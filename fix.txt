SOCIAL_AUTOMATION_CRON.md:        url:='https://jwpnybimcqzcmbkjcqyj.supabase.co/functions/v1/social-worker',
SOCIAL_AUTOMATION_CRON.md:        url:='https://jwpnybimcqzcmbkjcqyj.supabase.co/functions/v1/social-metrics-collect',
SOCIAL_AUTOMATION_CRON.md:        url:='https://jwpnybimcqzcmbkjcqyj.supabase.co/functions/v1/ai-suggest-topics',
ADMIN_SECURITY_AUDIT.md:const token = (await supabase.auth.getSession()).data.session?.access_token;
CAL_COM_INTEGRATION.md:**Endpoint**: `https://your-project.supabase.co/functions/v1/cal-webhook`
CAL_COM_INTEGRATION.md:3. Set webhook URL: `https://your-project.supabase.co/functions/v1/cal-webhook`
CAL_COM_INTEGRATION.md:const { data } = await supabase.functions.invoke('cal-availability', {
CAL_COM_INTEGRATION.md:const { data } = await supabase.functions.invoke('cal-event-types');
CAL_COM_INTEGRATION.md:const { data } = await supabase.functions.invoke('cal-bookings', {
CAL_COM_INTEGRATION.md:supabase functions logs cal-webhook
dist/assets/index-_9s1EGuC.js:        `),()=>{x.contains(g)&&x.removeChild(g)}},[e]),a.jsx(xte,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:c})})}const vte=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=yx(wte),d=b.useId();let h=!0,f=b.useMemo(()=>(h=!1,{id:d,initial:e,isPresent:n,custom:s,onExitComplete:p=>{u.set(p,!0);for(const m of u.values())if(!m)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return i&&h&&(f={...f}),b.useMemo(()=>{u.forEach((p,m)=>u.set(m,!1))},[n]),b.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(bte,{isPresent:n,anchorX:l,root:c,children:t})),a.jsx(xx.Provider,{value:f,children:t})};function wte(){return new Map}function HL(t=!0){const e=b.useContext(xx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Ap=t=>t.key||"";function _A(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const Fu=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=HL(o),h=b.useMemo(()=>_A(t),[t]),f=o&&!u?[]:h.map(Ap),p=b.useRef(!0),m=b.useRef(h),g=yx(()=>new Map),[x,v]=b.useState(h),[w,E]=b.useState(h);KE(()=>{p.current=!1,m.current=h;for(let P=0;P<w.length;P++){const N=Ap(w[P]);f.includes(N)?g.delete(N):g.get(N)!==!0&&g.set(N,!1)}},[w,f.length,f.join("-")]);const S=[];if(h!==x){let P=[...h];for(let N=0;N<w.length;N++){const T=w[N],k=Ap(T);f.includes(k)||(P.splice(N,0,T),S.push(T))}return i==="wait"&&S.length&&(P=S),E(_A(P)),v(h),null}const{forceRender:A}=b.useContext(qE);return a.jsx(a.Fragment,{children:w.map(P=>{const N=Ap(P),T=o&&!u?!1:h===w||f.includes(N),k=()=>{if(g.has(N))g.set(N,!0);else return;let I=!0;g.forEach(O=>{O||(I=!1)}),I&&(A==null||A(),E(m.current),o&&(d==null||d()),r&&r())};return a.jsx(vte,{isPresent:T,initial:!p.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:T?void 0:k,anchorX:l,children:P},N)})})},WL=b.createContext({strict:!1}),EA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vu={};for(const t in EA)Vu[t]={isEnabled:e=>EA[t].some(n=>!!e[n])};function _te(t){for(const e in t)Vu[e]={...Vu[e],...t[e]}}const Ete=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ete.has(t)}let qL=t=>!vg(t);function Ste(t){typeof t=="function"&&(qL=e=>e.startsWith("on")?!vg(e):t(e))}try{Ste(require("@emotion/is-prop-valid").default)}catch{}function Tte(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(qL(s)||n===!0&&vg(s)||!e&&!vg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const bx=b.createContext({});function vx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Jh(t){return typeof t=="string"||Array.isArray(t)}const yS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xS=["initial",...yS];function wx(t){return vx(t.animate)||xS.some(e=>Jh(t[e]))}function GL(t){return!!(wx(t)||t.variants)}function Nte(t,e){if(wx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jh(n)?n:void 0,animate:Jh(r)?r:void 0}}return t.inherit!==!1?e:{}}function kte(t){const{initial:e,animate:n}=Nte(t,b.useContext(bx));return b.useMemo(()=>({initial:e,animate:n}),[SA(e),SA(n)])}function SA(t){return Array.isArray(t)?t.join(" "):t}const ef={};function Cte(t){for(const e in t)ef[e]=t[e],nS(e)&&(ef[e].isCSSVariable=!0)}function KL(t,{layout:e,layoutId:n}){return dd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ef[t]||t==="opacity")}const Ate={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ite=ud.length;function Rte(t,e,n){let r="",s=!0;for(let i=0;i<Ite;i++){const o=ud[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=FL(l,fS[o]);if(!c){s=!1;const d=Ate[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function bS(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(dd.has(c)){o=!0;continue}else if(nS(c)){s[c]=u;continue}else{const d=FL(u,fS[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(e.transform||(o||n?r.transform=Rte(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const vS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YL(t,e,n){for(const r in e)!Nr(e[r])&&!KL(r,n)&&(t[r]=e[r])}function jte({transformTemplate:t},e){return b.useMemo(()=>{const n=vS();return bS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Pte(t,e){const n=t.style||{},r={};return YL(r,n,t),Object.assign(r,jte(t,e)),r}function Ote(t,e){const n={},r=Pte(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Mte={offset:"stroke-dashoffset",array:"stroke-dasharray"},Dte={offset:"strokeDashoffset",array:"strokeDasharray"};function Lte(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Mte:Dte;t[i.offset]=qe.transform(-r);const o=qe.transform(e),l=qe.transform(n);t[i.array]=`${o} ${l}`}function ZL(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(bS(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Lte(h,s,i,o,!1)}const QL=()=>({...vS(),attrs:{}}),XL=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Fte(t,e,n,r){const s=b.useMemo(()=>{const i=QL();return ZL(i,e,XL(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};YL(i,t.style,t),s.style={...i,...s.style}}return s}const Vte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wS(t){return typeof t!="string"||t.includes("-")?!1:!!(Vte.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bte(t,e,n,{latestValues:r},s,i=!1){const l=(wS(t)?Fte:Ote)(e,r,s,t),c=Tte(e,typeof t=="string",i),u=t!==b.Fragment?{...c,...l,ref:n}:{},{children:d}=e,h=b.useMemo(()=>Nr(d)?d.get():d,[d]);return b.createElement(t,{...u,children:h})}function TA(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function _S(t,e,n,r){if(typeof e=="function"){const[s,i]=TA(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=TA(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function km(t){return Nr(t)?t.get():t}function $te({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:zte(n,r,s,t),renderState:e()}}function zte(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=km(i[f]);let{initial:o,animate:l}=t;const c=wx(t),u=GL(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!vx(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const m=_S(t,f[p]);if(m){const{transitionEnd:g,transition:x,...v}=m;for(const w in v){let E=v[w];if(Array.isArray(E)){const S=d?E.length-1:0;E=E[S]}E!==null&&(s[w]=E)}for(const w in g)s[w]=g[w]}}}return s}const JL=t=>(e,n)=>{const r=b.useContext(bx),s=b.useContext(xx),i=()=>$te(t,e,r,s);return n?i():yx(i)};function ES(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Nr(r[o])||e.style&&Nr(e.style[o])||KL(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Ute=JL({scrapeMotionValuesFromProps:ES,createRenderState:vS});function e2(t,e,n){const r=ES(t,e,n);for(const s in t)if(Nr(t[s])||Nr(e[s])){const i=ud.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Hte=JL({scrapeMotionValuesFromProps:e2,createRenderState:QL}),Wte=Symbol.for("motionComponentSymbol");function Jc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qte(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Jc(n)&&(n.current=r))},[e])}const SS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gte="framerAppearId",t2="data-"+SS(Gte),n2=b.createContext({});function Kte(t,e,n,r,s){var g,x;const{visualElement:i}=b.useContext(bx),o=b.useContext(WL),l=b.useContext(xx),c=b.useContext(gS).reducedMotion,u=b.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,h=b.useContext(n2);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&Yte(u.current,n,s,h);const f=b.useRef(!1);b.useInsertionEffect(()=>{d&&f.current&&d.update(n,l)});const p=n[t2],m=b.useRef(!!p&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,p))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,p)));return KE(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),m.current&&d.animationState&&d.animationState.animateChanges())}),b.useEffect(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),m.current=!1),d.enteringChildren=void 0)}),d}function Yte(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:r2(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Jc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function r2(t){if(t)return t.options.allowProjection!==!1?t.projection:r2(t.parent)}function ev(t,{forwardMotionProps:e=!1}={},n,r){n&&_te(n);const s=wS(t)?Hte:Ute;function i(l,c){let u;const d={...b.useContext(gS),...l,layoutId:Zte(l)},{isStatic:h}=d,f=kte(l),p=s(l,h);if(!h&&GE){Qte();const m=Xte(d);u=m.MeasureLayout,f.visualElement=Kte(t,p,d,r,m.ProjectionNode)}return a.jsxs(bx.Provider,{value:f,children:[u&&f.visualElement?a.jsx(u,{visualElement:f.visualElement,...d}):null,Bte(t,l,qte(p,f.visualElement,c),p,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[Wte]=t,o}function Zte({layoutId:t}){const e=b.useContext(qE).id;return e&&t!==void 0?e+"-"+t:t}function Qte(t,e){b.useContext(WL).strict}function Xte(t){const{drag:e,layout:n}=Vu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Jte(t,e){if(typeof Proxy>"u")return ev;const n=new Map,r=(i,o)=>ev(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,ev(o,void 0,t,e)),n.get(o))})}function s2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ene({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tv(t){return t===void 0||t===1}function __({scale:t,scaleX:e,scaleY:n}){return!tv(t)||!tv(e)||!tv(n)}function ul(t){return __(t)||i2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function i2(t){return NA(t.x)||NA(t.y)}function NA(t){return t&&t!=="0%"}function wg(t,e,n){const r=t-n,s=e*r;return n+s}function kA(t,e,n,r,s){return s!==void 0&&(t=wg(t,s,r)),wg(t,n,r)+e}function E_(t,e=0,n=1,r,s){t.min=kA(t.min,e,n,r,s),t.max=kA(t.max,e,n,r,s)}function o2(t,{x:e,y:n}){E_(t.x,e.translate,e.scale,e.originPoint),E_(t.y,n.translate,n.scale,n.originPoint)}const CA=.999999999999,AA=1.0000000000001;function nne(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&tu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,o2(t,o)),r&&ul(i.latestValues)&&tu(t,i.latestValues))}e.x<AA&&e.x>CA&&(e.x=1),e.y<AA&&e.y>CA&&(e.y=1)}function eu(t,e){t.min=t.min+e,t.max=t.max+e}function IA(t,e,n,r,s=.5){const i=on(t.min,t.max,s);E_(t,e,n,i,r)}function tu(t,e){IA(t.x,e.x,e.scaleX,e.scale,e.originX),IA(t.y,e.y,e.scaleY,e.scale,e.originY)}function a2(t,e){return s2(tne(t.getBoundingClientRect(),e))}function rne(t,e,n){const r=a2(t,n),{scroll:s}=e;return s&&(eu(r.x,s.offset.x),eu(r.y,s.offset.y)),r}const RA=()=>({translate:0,scale:1,origin:0,originPoint:0}),nu=()=>({x:RA(),y:RA()}),jA=()=>({min:0,max:0}),_n=()=>({x:jA(),y:jA()}),S_={current:null},l2={current:!1};function sne(){if(l2.current=!0,!!GE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>S_.current=t.matches;t.addEventListener("change",e),e()}else S_.current=!1}const ine=new WeakMap;function one(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Nr(s))t.addValue(r,s);else if(Nr(i))t.addValue(r,Lu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Lu(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const PA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ane{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=rs.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,rn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=wx(n),this.isVariantNode=GL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&Nr(p)&&p.set(c[f])}}mount(e){var n;this.current=e,ine.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),l2.current||sne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:S_.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ma(this.notifyUpdate),Ma(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=dd.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&rn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vu){const n=Vu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PA.length;r++){const s=PA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=one(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Lu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(eL(r)||nL(r))?r=parseFloat(r):!mte(r)&&Da.test(n)&&(r=LL(e,n)),this.setBaseTarget(e,Nr(r)?r.get():r)),Nr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=_S(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Nr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new JE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){pS.render(this.render)}}class c2 extends ane{constructor(){super(...arguments),this.KeyframeResolver=rte}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function u2(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function lne(t){return window.getComputedStyle(t)}class cne extends c2{constructor(){super(...arguments),this.type="html",this.renderInstance=u2}readValueFromInstance(e,n){var r;if(dd.has(n))return(r=this.projection)!=null&&r.isProjecting?m_(n):_ee(e,n);{const s=lne(e),i=(nS(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return a2(e,n)}build(e,n,r){bS(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ES(e,n,r)}}const d2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function une(t,e,n,r){u2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(d2.has(s)?s:SS(s),e.attrs[s])}class dne extends c2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_n}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dd.has(n)){const r=DL(n);return r&&r.default||0}return n=d2.has(n)?n:SS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return e2(e,n,r)}build(e,n,r){ZL(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){une(e,n,r,s)}mount(e){this.isSVGTag=XL(e.tagName),super.mount(e)}}const hne=(t,e)=>wS(t)?new dne(e):new cne(e,{allowProjection:t!==b.Fragment});function fu(t,e,n){const r=t.getProps();return _S(r,e,n!==void 0?n:r.custom,t)}const T_=t=>Array.isArray(t);function fne(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Lu(n))}function pne(t){return T_(t)?t[t.length-1]||0:t}function TS(t,e){const n=fu(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=pne(i[o]);fne(t,o,l)}}function mne(t){return!!(Nr(t)&&t.add)}function N_(t,e){const n=t.getValue("willChange");if(mne(n))return n.add(e);if(!n&&So.WillChange){const r=new So.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function h2(t){return t.props[t2]}const gne=t=>t!==null;function yne(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(gne),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const xne={type:"spring",stiffness:500,damping:25,restSpeed:10},bne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vne={type:"keyframes",duration:.8},wne={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_ne=(t,{keyframes:e})=>e.length>2?vne:dd.has(t)?t.startsWith("scale")?bne(e[1]):xne:wne;function Ene({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const NS=(t,e,n,r={},s,i)=>o=>{const l=hS(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Vi(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Ene(l)||Object.assign(d,_ne(t,d)),d.duration&&(d.duration=Vi(d.duration)),d.repeatDelay&&(d.repeatDelay=Vi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(v_(d),d.delay===0&&(h=!0)),(So.instantAnimations||So.skipAnimations)&&(h=!0,v_(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=yne(d.keyframes,l);if(f!==void 0){rn.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new uS(d):new Wee(d)};function Sne({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function f2(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const h=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&Sne(u,d))continue;const p={delay:n,...hS(i||{},d)},m=h.get();if(m!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===m&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=h2(t);if(v){const w=window.MotionHandoffAnimation(v,d,rn);w!==null&&(p.startTime=w,g=!0)}}N_(t,d),h.start(NS(d,h,f,t.shouldReduceMotion&&PL.has(d)?{type:!1}:p,t,g));const x=h.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{rn.update(()=>{o&&TS(t,o)})}),c}function p2(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function k_(t,e,n={}){var c;const r=fu(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(f2(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return Tne(t,e,u,d,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function Tne(t,e,n=0,r=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(k_(c,e,{...o,delay:n+(typeof r=="function"?0:r)+p2(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function m2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>k_(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=k_(t,e,n);else{const s=typeof e=="function"?fu(t,e,n.custom):e;r=Promise.all(f2(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function g2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Nne=xS.length;function y2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?y2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Nne;n++){const r=xS[n],s=t.props[r];(Jh(s)||s===!1)&&(e[r]=s)}return e}const kne=[...yS].reverse(),Cne=yS.length;function Ane(t){return e=>Promise.all(e.map(({animation:n,options:r})=>m2(t,n,r)))}function Ine(t){let e=Ane(t),n=OA(),r=!0;const s=c=>(u,d)=>{var f;const h=fu(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:m,...g}=h;u={...u,...g,...m}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,d=y2(t.parent)||{},h=[],f=new Set;let p={},m=1/0;for(let x=0;x<Cne;x++){const v=kne[x],w=n[v],E=u[v]!==void 0?u[v]:d[v],S=Jh(E),A=v===c?w.isActive:null;A===!1&&(m=x);let P=E===d[v]&&E!==u[v]&&S;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...p},!w.isActive&&A===null||!E&&!w.prevProp||vx(E)||typeof E=="boolean")continue;const N=Rne(w.prevProp,E);let T=N||v===c&&w.isActive&&!P&&S||x>m&&S,k=!1;const I=Array.isArray(E)?E:[E];let O=I.reduce(s(v),{});A===!1&&(O={});const{prevResolvedValues:R={}}=w,j={...R,...O},F=z=>{T=!0,f.has(z)&&(k=!0,f.delete(z)),w.needsAnimating[z]=!0;const U=t.getValue(z);U&&(U.liveStyle=!1)};for(const z in j){const U=O[z],G=R[z];if(p.hasOwnProperty(z))continue;let de=!1;T_(U)&&T_(G)?de=!g2(U,G):de=U!==G,de?U!=null?F(z):f.add(z):U!==void 0&&f.has(z)?F(z):w.protectedKeys[z]=!0}w.prevProp=E,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),r&&t.blockInitialAnimation&&(T=!1);const Y=P&&N;T&&(!Y||k)&&h.push(...I.map(z=>{const U={type:v};if(typeof z=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,de=fu(G,z);if(G.enteringChildren&&de){const{delayChildren:ie}=de.transition||{};U.delay=p2(G.enteringChildren,t,ie)}}return{animation:z,options:U}}))}if(f.size){const x={};if(typeof u.initial!="boolean"){const v=fu(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(x.transition=v.transition)}f.forEach(v=>{const w=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),x[v]=w??null}),h.push({animation:x})}let g=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(h):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=OA()}}}function Rne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!g2(e,t):!1}function al(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OA(){return{animate:al(!0),whileInView:al(),whileHover:al(),whileTap:al(),whileDrag:al(),whileFocus:al(),exit:al()}}class Ga{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jne extends Ga{constructor(e){super(e),e.animationState||(e.animationState=Ine(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Pne=0;class One extends Ga{constructor(){super(...arguments),this.id=Pne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Mne={animation:{Feature:jne},exit:{Feature:One}};function tf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wf(t){return{point:{x:t.pageX,y:t.pageY}}}const Dne=t=>e=>mS(e)&&t(e,Wf(e));function vh(t,e,n,r){return tf(t,e,Dne(n),r)}const x2=1e-4,Lne=1-x2,Fne=1+x2,b2=.01,Vne=0-b2,Bne=0+b2;function Vr(t){return t.max-t.min}function $ne(t,e,n){return Math.abs(t-e)<=n}function MA(t,e,n,r=.5){t.origin=r,t.originPoint=on(e.min,e.max,t.origin),t.scale=Vr(n)/Vr(e),t.translate=on(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Lne&&t.scale<=Fne||isNaN(t.scale))&&(t.scale=1),(t.translate>=Vne&&t.translate<=Bne||isNaN(t.translate))&&(t.translate=0)}function wh(t,e,n,r){MA(t.x,e.x,n.x,r?r.originX:void 0),MA(t.y,e.y,n.y,r?r.originY:void 0)}function DA(t,e,n){t.min=n.min+e.min,t.max=t.min+Vr(e)}function zne(t,e,n){DA(t.x,e.x,n.x),DA(t.y,e.y,n.y)}function LA(t,e,n){t.min=e.min-n.min,t.max=t.min+Vr(e)}function _h(t,e,n){LA(t.x,e.x,n.x),LA(t.y,e.y,n.y)}function Is(t){return[t("x"),t("y")]}const v2=({current:t})=>t?t.ownerDocument.defaultView:null,FA=(t,e)=>Math.abs(t-e);function Une(t,e){const n=FA(t.x,e.x),r=FA(t.y,e.y);return Math.sqrt(n**2+r**2)}class w2{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=rv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Une(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:g}=f,{timestamp:x}=cr;this.history.push({...g,timestamp:x});const{onStart:v,onMove:w}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=nv(p,this.transformPagePoint),rn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=rv(f.type==="pointercancel"?this.lastMoveEventInfo:nv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),g&&g(f,v)},!mS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Wf(e),c=nv(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=cr;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,rv(c,this.history)),this.removeListeners=zf(vh(this.contextWindow,"pointermove",this.handlePointerMove),vh(this.contextWindow,"pointerup",this.handlePointerUp),vh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ma(this.updatePoint)}}function nv(t,e){return e?{point:e(t.point)}:t}function VA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rv({point:t},e){return{point:t,delta:VA(t,_2(e)),offset:VA(t,Hne(e)),velocity:Wne(e,.1)}}function Hne(t){return t[0]}function _2(t){return t[t.length-1]}function Wne(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=_2(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Vi(e)));)n--;if(!r)return{x:0,y:0};const i=Ls(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qne(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?on(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?on(n,t,r.max):Math.min(t,n)),t}function BA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Gne(t,{top:e,left:n,bottom:r,right:s}){return{x:BA(t.x,n,s),y:BA(t.y,e,r)}}function $A(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Kne(t,e){return{x:$A(t.x,e.x),y:$A(t.y,e.y)}}function Yne(t,e){let n=.5;const r=Vr(t),s=Vr(e);return s>r?n=Zh(e.min,e.max-r,t.min):r>s&&(n=Zh(t.min,t.max-s,e.min)),Eo(0,1,n)}function Zne(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const C_=.35;function Qne(t=C_){return t===!1?t=0:t===!0&&(t=C_),{x:zA(t,"left","right"),y:zA(t,"top","bottom")}}function zA(t,e,n){return{min:UA(t,e),max:UA(t,n)}}function UA(t,e){return typeof t=="number"?t:t[e]||0}const Xne=new WeakMap;class Jne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wf(h).point)},o=(h,f)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ate(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Is(v=>{let w=this.getAxisMotionValue(v).get()||0;if(Bi.test(w)){const{projection:E}=this.visualElement;if(E&&E.layout){const S=E.layout.layoutBox[v];S&&(w=Vr(S)*(parseFloat(w)/100))}}this.originPoint[v]=w}),g&&rn.postRender(()=>g(h,f)),N_(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=ere(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),x&&x(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Is(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new w2(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:v2(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&rn.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ip(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=qne(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Jc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Gne(r.layoutBox,e):this.constraints=!1,this.elastic=Qne(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Is(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Zne(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Jc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=rne(r,s.root,this.visualElement.getTransformPagePoint());let o=Kne(s.layout.layoutBox,i);if(n){const l=n(ene(o));this.hasMutatedConstraints=!!l,l&&(o=s2(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Is(d=>{if(!Ip(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,m={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return N_(this.visualElement,e),r.start(NS(e,r,0,n,this.visualElement,!1))}stopAnimation(){Is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Is(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Is(n=>{const{drag:r}=this.getProps();if(!Ip(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-on(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Jc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Is(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Yne({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Is(o=>{if(!Ip(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(on(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Xne.set(this.visualElement,this);const e=this.visualElement.current,n=vh(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Jc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),rn.read(r);const o=tf(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Is(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=C_,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ip(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ere(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class tre extends Ga{constructor(e){super(e),this.removeGroupControls=Vs,this.removeListeners=Vs,this.controls=new Jne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const HA=t=>(e,n)=>{t&&rn.postRender(()=>t(e,n))};class nre extends Ga{constructor(){super(...arguments),this.removePointerDownListener=Vs}onPointerDown(e){this.session=new w2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:HA(e),onStart:HA(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&rn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=vh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(qe.test(t))t=parseFloat(t);else return t;const n=WA(t,e.target.x),r=WA(t,e.target.y);return`${n}% ${r}%`}},rre={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Da.parse(t);if(s.length>5)return r;const i=Da.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const u=on(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let sv=!1;class sre extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Cte(ire),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),sv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Cm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,sv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||rn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;sv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function E2(t){const[e,n]=HL(),r=b.useContext(qE);return a.jsx(sre,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(n2),isPresent:e,safeToRemove:n})}const ire={borderRadius:{...Fd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fd,borderTopRightRadius:Fd,borderBottomLeftRadius:Fd,borderBottomRightRadius:Fd,boxShadow:rre};function ore(t,e,n){const r=Nr(t)?t:Lu(t);return r.start(NS("",r,e,n)),r.animation}const are=(t,e)=>t.depth-e.depth;class lre{constructor(){this.children=[],this.isDirty=!1}add(e){YE(this.children,e),this.isDirty=!0}remove(e){ZE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(are),this.isDirty=!1,this.children.forEach(e)}}function cre(t,e){const n=rs.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ma(r),t(i-e))};return rn.setup(r,!0),()=>Ma(r)}const S2=["TopLeft","TopRight","BottomLeft","BottomRight"],ure=S2.length,qA=t=>typeof t=="string"?parseFloat(t):t,GA=t=>typeof t=="number"||qe.test(t);function dre(t,e,n,r,s,i){s?(t.opacity=on(0,n.opacity??1,hre(r)),t.opacityExit=on(e.opacity??1,0,fre(r))):i&&(t.opacity=on(e.opacity??1,n.opacity??1,r));for(let o=0;o<ure;o++){const l=`border${S2[o]}Radius`;let c=KA(e,l),u=KA(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||GA(c)===GA(u)?(t[l]=Math.max(on(qA(c),qA(u),r),0),(Bi.test(u)||Bi.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=on(e.rotate||0,n.rotate||0,r))}function KA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hre=T2(0,.5,uL),fre=T2(.5,.95,Vs);function T2(t,e,n){return r=>r<t?0:r>e?1:n(Zh(t,e,r))}function YA(t,e){t.min=e.min,t.max=e.max}function Cs(t,e){YA(t.x,e.x),YA(t.y,e.y)}function ZA(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function QA(t,e,n,r,s){return t-=e,t=wg(t,1/n,r),s!==void 0&&(t=wg(t,1/s,r)),t}function pre(t,e=0,n=1,r=.5,s,i=t,o=t){if(Bi.test(e)&&(e=parseFloat(e),e=on(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=on(i.min,i.max,r);t===i&&(l-=e),t.min=QA(t.min,e,n,l,s),t.max=QA(t.max,e,n,l,s)}function XA(t,e,[n,r,s],i,o){pre(t,e[n],e[r],e[s],e.scale,i,o)}const mre=["x","scaleX","originX"],gre=["y","scaleY","originY"];function JA(t,e,n,r){XA(t.x,e,mre,n?n.x:void 0,r?r.x:void 0),XA(t.y,e,gre,n?n.y:void 0,r?r.y:void 0)}function e1(t){return t.translate===0&&t.scale===1}function N2(t){return e1(t.x)&&e1(t.y)}function t1(t,e){return t.min===e.min&&t.max===e.max}function yre(t,e){return t1(t.x,e.x)&&t1(t.y,e.y)}function n1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function k2(t,e){return n1(t.x,e.x)&&n1(t.y,e.y)}function r1(t){return Vr(t.x)/Vr(t.y)}function s1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xre{constructor(){this.members=[]}add(e){YE(this.members,e),e.scheduleRender()}remove(e){if(ZE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bre(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),m&&(r+=`skewY(${m}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const iv=["","X","Y","Z"],vre=1e3;let wre=0;function ov(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function C2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=h2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",rn,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&C2(r)}function A2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=wre++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Sre),this.nodes.forEach(Cre),this.nodes.forEach(Are),this.nodes.forEach(Tre)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new lre)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new JE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UL(o)&&!fte(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,h=0;const f=()=>this.root.updateBlockedByResize=!1;rn.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=cre(f,250),Cm.hasAnimatedSinceResize&&(Cm.hasAnimatedSinceResize=!1,this.nodes.forEach(a1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||Ore,{onLayoutAnimationStart:g,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!k2(this.targetLayout,p),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...hS(m,"layout"),onPlay:g,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,w)}else h||a1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ire),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&C2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kre),this.nodes.forEach(_re),this.nodes.forEach(Ere)):this.nodes.forEach(o1),this.clearAllSnapshots();const l=rs.now();cr.delta=Eo(0,1e3/60,l-cr.timestamp),cr.timestamp=l,cr.isProcessing=!0,Kb.update.process(cr),Kb.preRender.process(cr),Kb.render.process(cr),cr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nre),this.sharedNodes.forEach(Rre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vr(this.snapshot.measuredBox.x)&&!Vr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!N2(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||ul(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Mre(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return _n();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Dre))){const{scroll:d}=this.root;d&&(eu(l.x,d.offset.x),eu(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=_n();if(Cs(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Cs(l,o),eu(l.x,h.offset.x),eu(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=_n();Cs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&tu(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ul(d.latestValues)&&tu(c,d.latestValues)}return ul(this.latestValues)&&tu(c,this.latestValues),c}removeTransform(o){const l=_n();Cs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ul(u.latestValues))continue;__(u.latestValues)&&u.updateSnapshot();const d=_n(),h=u.measurePageBox();Cs(d,h),JA(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ul(this.latestValues)&&JA(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=cr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),_h(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cs(this.target,this.layout.layoutBox),o2(this.target,this.targetDelta)):Cs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),_h(this.relativeTargetOrigin,this.target,p.target),Cs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||__(this.parent.latestValues)||i2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===cr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Cs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;nne(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=_n());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZA(this.prevProjectionDelta.x,this.projectionDelta.x),ZA(this.prevProjectionDelta.y,this.projectionDelta.y)),wh(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!s1(this.projectionDelta.x,this.prevProjectionDelta.x)||!s1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nu(),this.projectionDelta=nu(),this.projectionDeltaWithTransform=nu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=nu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=_n(),p=c?c.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,x=this.getStack(),v=!x||x.members.length<=1,w=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(Pre));this.animationProgress=0;let E;this.mixTargetDelta=S=>{const A=S/1e3;l1(h.x,o.x,A),l1(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_h(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jre(this.relativeTarget,this.relativeTargetOrigin,f,A),E&&yre(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=_n()),Cs(E,this.relativeTarget)),g&&(this.animationValues=d,dre(d,u,this.latestValues,A,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rn.update(()=>{Cm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lu(0)),this.currentAnimation=ore(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vre),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&I2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||_n();const h=Vr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Vr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Cs(l,c),tu(l,d),wh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xre),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&ov("z",o,u,this.animationValues);for(let d=0;d<iv.length;d++)ov(`rotate${iv[d]}`,o,u,this.animationValues),ov(`skew${iv[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=km(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=km(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ul(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=bre(this.projectionDeltaWithTransform,this.treeScale,d);c&&(h=c(d,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in ef){if(d[m]===void 0)continue;const{correct:g,applyTo:x,isCSSVariable:v}=ef[m],w=h==="none"?d[m]:g(d[m],u);if(x){const E=x.length;for(let S=0;S<E;S++)o[x[S]]=w}else v?this.options.visualElement.renderState.vars[m]=w:o[m]=w}this.options.layoutId&&(o.pointerEvents=u===this?km(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(i1),this.root.sharedNodes.clear()}}}function _re(t){t.updateLayout()}function Ere(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Is(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=Vr(f);f.min=r[h].min,f.max=f.min+p}):I2(i,e.layoutBox,r)&&Is(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],p=Vr(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const l=nu();wh(l,r,e.layoutBox);const c=nu();o?wh(c,t.applyTransform(s,!0),e.measuredBox):wh(c,r,e.layoutBox);const u=!N2(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const m=_n();_h(m,e.layoutBox,f.layoutBox);const g=_n();_h(g,r,p.layoutBox),k2(m,g)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Sre(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Tre(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Nre(t){t.clearSnapshot()}function i1(t){t.clearMeasurements()}function o1(t){t.isLayoutDirty=!1}function kre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function a1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Cre(t){t.resolveTargetDelta()}function Are(t){t.calcProjection()}function Ire(t){t.resetSkewAndRotation()}function Rre(t){t.removeLeadSnapshot()}function l1(t,e,n){t.translate=on(e.translate,0,n),t.scale=on(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function c1(t,e,n,r){t.min=on(e.min,n.min,r),t.max=on(e.max,n.max,r)}function jre(t,e,n,r){c1(t.x,e.x,n.x,r),c1(t.y,e.y,n.y,r)}function Pre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ore={duration:.45,ease:[.4,0,.1,1]},u1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),d1=u1("applewebkit/")&&!u1("chrome/")?Math.round:Vs;function h1(t){t.min=d1(t.min),t.max=d1(t.max)}function Mre(t){h1(t.x),h1(t.y)}function I2(t,e,n){return t==="position"||t==="preserve-aspect"&&!$ne(r1(e),r1(n),.2)}function Dre(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Lre=A2({attachResizeListener:(t,e)=>tf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),av={current:void 0},R2=A2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!av.current){const t=new Lre({});t.mount(window),t.setOptions({layoutScroll:!0}),av.current=t}return av.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Fre={pan:{Feature:nre},drag:{Feature:tre,ProjectionNode:R2,MeasureLayout:E2}};function f1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&rn.postRender(()=>i(e,Wf(e)))}class Vre extends Ga{mount(){const{current:e}=this.node;e&&(this.unmount=lte(e,(n,r)=>(f1(this.node,r,"Start"),s=>f1(this.node,s,"End"))))}unmount(){}}class Bre extends Ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zf(tf(this.node.current,"focus",()=>this.onFocus()),tf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function p1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&rn.postRender(()=>i(e,Wf(e)))}class $re extends Ga{mount(){const{current:e}=this.node;e&&(this.unmount=hte(e,(n,r)=>(p1(this.node,r,"Start"),(s,{success:i})=>p1(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const A_=new WeakMap,lv=new WeakMap,zre=t=>{const e=A_.get(t.target);e&&e(t)},Ure=t=>{t.forEach(zre)};function Hre({root:t,...e}){const n=t||document;lv.has(n)||lv.set(n,{});const r=lv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Ure,{root:t,...e})),r[s]}function Wre(t,e,n){const r=Hre(e);return A_.set(t,n),r.observe(t),()=>{A_.delete(t),r.unobserve(t)}}const qre={some:0,all:1};class Gre extends Ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:qre[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return Wre(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Kre(e,n))&&this.startObserver()}unmount(){}}function Kre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Yre={inView:{Feature:Gre},tap:{Feature:$re},focus:{Feature:Bre},hover:{Feature:Vre}},Zre={layout:{ProjectionNode:R2,MeasureLayout:E2}},Qre={...Mne,...Yre,...Fre,...Zre},xt=Jte(Qre,hne);function Xre(t){t.values.forEach(e=>e.stop())}function I_(t,e){[...e].reverse().forEach(r=>{const s=t.getVariant(r);s&&TS(t,s),t.variantChildren&&t.variantChildren.forEach(i=>{I_(i,e)})})}function Jre(t,e){if(Array.isArray(e))return I_(t,e);if(typeof e=="string")return I_(t,[e]);TS(t,e)}function ese(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const s=[];return t.forEach(i=>{s.push(m2(i,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return t.forEach(r=>{Jre(r,n)})},stop(){t.forEach(n=>{Xre(n)})},mount(){return()=>{e.stop()}}};return e}function tse(){const t=yx(ese);return KE(t.mount,[]),t}const nse=tse;async function nt(t,e){try{const n=t,r={"Content-Type":"application/json",...e==null?void 0:e.headers},s=Wn.currentUser;if(s){const l=await s.getIdToken();r.Authorization=`Bearer ${l}`}const i=await fetch(n,{method:(e==null?void 0:e.method)||"POST",headers:r,body:e!=null&&e.body?JSON.stringify(e.body):void 0}),o=await i.json();return i.ok?o:{ok:!1,error:o.error||i.statusText,...o}}catch(n){return console.error("API invocation error:",n),{ok:!1,error:n.message}}}const rse=Object.freeze(Object.defineProperty({__proto__:null,invokeApi:nt},Symbol.toStringTag,{value:"Module"}));function sse(){var h,f,p;const{lang:t}=sr(),[e,n]=b.useState(null),[r,s]=b.useState(!1),[i,o]=b.useState(!1),l=b.useRef(null);b.useEffect(()=>{{const{data:{subscription:m}}=hu.onAuthStateChange((g,x)=>{n((x==null?void 0:x.user)||null),x!=null&&x.user?setTimeout(()=>{c()},0):o(!1)});return hu.getSession().then(({data:{session:g}})=>{n((g==null?void 0:g.user)||null),g!=null&&g.user&&setTimeout(()=>{c()},0)}),()=>m.unsubscribe()}},[]);async function c(){try{const m=await nt("/api/admin/check-role");m!=null&&m.ok&&m.is_admin?o(!0):o(!1)}catch(m){console.error("Admin check error:",m),o(!1)}}if(b.useEffect(()=>{function m(g){l.current&&!l.current.contains(g.target)&&s(!1)}return document.addEventListener("click",m),()=>document.removeEventListener("click",m)},[]),!e)return a.jsx(H,{variant:"outline",asChild:!0,children:a.jsx("a",{href:"/auth",children:t==="zh-CN"?"":t==="zh-TW"?"":"Login"})});const u=((h=e.user_metadata)==null?void 0:h.avatar_url)||"/assets/brand/mark.svg",d=((f=e.user_metadata)==null?void 0:f.full_name)||((p=e.email)==null?void 0:p.split("@")[0])||"Account";return a.jsxs("div",{ref:l,className:"relative",children:[a.jsxs("button",{onClick:()=>s(m=>!m),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[a.jsxs(UE,{className:"h-8 w-8",children:[a.jsx(HE,{src:u,alt:d}),a.jsx(WE,{children:a.jsx(Um,{className:"h-4 w-4"})})]}),a.jsx("span",{className:"text-sm hidden sm:block",children:t==="zh-CN"?"":t==="zh-TW"?"":"Account"})]}),a.jsx(Fu,{children:r&&a.jsxs(xt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute right-0 mt-2 w-48 bg-card border border-border rounded-lg shadow-lg p-1 z-50",children:[a.jsxs("a",{href:i?"/admin":"/me",className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-accent rounded-md transition-colors",children:[a.jsx(Um,{className:"h-4 w-4"}),i?t==="zh-CN"?"":t==="zh-TW"?"":"Admin":t==="zh-CN"?"":t==="zh-TW"?"":"Dashboard"]}),a.jsxs("button",{onClick:iJ,className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-accent rounded-md transition-colors text-left",children:[a.jsx(yP,{className:"h-4 w-4"}),t==="zh-CN"||t==="zh-TW"?"":"Logout"]})]})})]})}const Bu="/assets/logo-a1lilZVX.png",ise=()=>{const{t}=nd("common"),e=cc(),[n,r]=b.useState(!1),s=[{path:"/home",label:t("nav.home")},{path:"/coaching",label:t("nav.coaching")},{path:"/events",label:t("nav.events")},{path:"/blog",label:t("nav.blog")},{path:"/community",label:t("nav.community")},{path:"/contact",label:t("nav.contact")}],i=o=>e.pathname===o;return a.jsxs("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[a.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[a.jsxs(Lt,{to:"/",className:"flex items-center space-x-3",children:[a.jsx("img",{src:Bu,alt:"ZhenGrowth Logo",className:"h-10 w-10",loading:"eager",onError:o=>{o.currentTarget.src="/app-icon-192.png"}}),a.jsx("span",{className:"text-2xl font-serif font-bold text-primary",children:"ZhenGrowth"})]}),a.jsx("nav",{className:"hidden md:flex items-center gap-6",children:s.map(o=>a.jsx(Lt,{to:o.path,className:`text-sm font-medium transition-colors hover:text-primary ${i(o.path)?"text-primary":"text-muted-foreground"}`,children:o.label},o.path))}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(JW,{}),a.jsx(sse,{}),a.jsx(H,{asChild:!0,variant:"default",size:"sm",className:"hidden sm:flex",children:a.jsx(Lt,{to:"/coaching",children:t("cta.book")})}),a.jsx(H,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>r(!n),children:n?a.jsx(qr,{className:"h-5 w-5"}):a.jsx(v6,{className:"h-5 w-5"})})]})]}),a.jsx(Fu,{children:n&&a.jsx(xt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t bg-background",children:a.jsxs("nav",{className:"container flex flex-col gap-4 py-4",children:[s.map(o=>a.jsx(Lt,{to:o.path,onClick:()=>r(!1),className:`text-sm font-medium transition-colors hover:text-primary ${i(o.path)?"text-primary":"text-muted-foreground"}`,children:o.label},o.path)),a.jsx(H,{asChild:!0,variant:"default",size:"sm",className:"w-full",children:a.jsx(Lt,{to:"/coaching",onClick:()=>r(!1),children:t("cta.book")})})]})})})]})},ose=()=>{let t;try{const{t:e}=nd("common");t=e}catch(e){console.warn("Footer: Translation not ready",e),t=n=>({"nav.home":"Home","nav.about":"About","nav.coaching":"Coaching","nav.blog":"Blog","footer.connect":"Connect","footer.wechat":"WeChat","footer.rights":" 2025 ZhenGrowth. All rights reserved.","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service"})[n]||n}return a.jsx("footer",{className:"border-t bg-muted/50",children:a.jsxs("div",{className:"container py-12",children:[a.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx("img",{src:Bu,alt:"ZhenGrowth Logo",className:"h-8 w-8"}),a.jsx("h3",{className:"text-xl font-serif font-bold text-primary",children:"ZhenGrowth"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Empowering professionals to grow with clarity, confidence, and purpose."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:t("nav.home")}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx(Lt,{to:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:t("nav.about")})}),a.jsx("li",{children:a.jsx(Lt,{to:"/coaching",className:"text-muted-foreground hover:text-primary transition-colors",children:t("nav.coaching")})}),a.jsx("li",{children:a.jsx(Lt,{to:"/blog",className:"text-muted-foreground hover:text-primary transition-colors",children:t("nav.blog")})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-4",children:t("footer.connect")}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("a",{href:"mailto:hello@zhengrowth.com",className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-primary transition-colors",children:[a.jsx($m,{className:"h-4 w-4"}),"hello@zhengrowth.com"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(bP,{className:"h-4 w-4"}),a.jsxs("span",{children:[t("footer.wechat"),": ZhenGrowth"]})]})]})]})]}),a.jsxs("div",{className:"mt-8 pt-8 border-t flex flex-col sm:flex-row justify-between items-center gap-4 text-sm text-muted-foreground",children:[a.jsx("p",{children:t("footer.rights")}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(Lt,{to:"/privacy",className:"hover:text-primary transition-colors",children:t("footer.privacy")}),a.jsx(Lt,{to:"/terms",className:"hover:text-primary transition-colors",children:t("footer.terms")})]})]})]})})};function ase(){const t=(navigator.language||"en").toLowerCase(),e=(navigator.languages||[]).map(r=>r.toLowerCase()),n=(Intl.DateTimeFormat().resolvedOptions().timeZone||"").toLowerCase();return t.startsWith("zh-tw")||t.startsWith("zh-hk")||e.some(r=>r.startsWith("zh-tw")||r.startsWith("zh-hk"))?"zh-TW":t.startsWith("zh")||e.some(r=>r.startsWith("zh"))?"zh-CN":n.includes("hong_kong")||n.includes("taipei")||n.includes("macau")?"zh-TW":n.includes("shanghai")||n.includes("chongqing")||n.includes("urumqi")||n.includes("harbin")?"zh-CN":"en"}function j2(){const{lang:t,setLang:e}=sr(),[n,r]=b.useState(null);if(b.useEffect(()=>{if(localStorage.getItem("zg.lang.nudge")==="done"||t==="zh-CN"||t==="zh-TW")return;const c=ase();(c==="zh-CN"||c==="zh-TW")&&setTimeout(()=>r(c),1e3)},[t]),!n)return null;function s(){e(n),localStorage.setItem("zg.lang.nudge","done"),r(null)}function i(){localStorage.setItem("zg.lang.nudge","done"),r(null)}const l={"zh-CN":{prompt:"",accept:"",dismiss:""},"zh-TW":{prompt:"",accept:"",dismiss:""}}[n];return a.jsx("div",{className:"fixed left-4 right-4 bottom-4 z-50 sm:left-auto sm:right-4 sm:max-w-md",children:a.jsx("div",{className:"rounded-xl border border-border bg-card/95 backdrop-blur-sm p-4 shadow-lg animate-in slide-in-from-bottom-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-card-foreground font-medium mb-3",children:l.prompt}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(H,{size:"sm",onClick:s,className:"bg-primary text-primary-foreground hover:bg-primary/90",children:l.accept}),a.jsx(H,{size:"sm",variant:"ghost",onClick:i,children:l.dismiss})]})]}),a.jsx("button",{onClick:i,className:"text-muted-foreground hover:text-foreground transition-colors","aria-label":"Close",children:a.jsx(qr,{className:"h-4 w-4"})})]})})})}const lse=()=>a.jsxs("div",{className:"flex flex-col min-h-screen",children:[a.jsx(ise,{}),a.jsx("main",{className:"flex-1",children:a.jsx(Dj,{})}),a.jsx(ose,{}),a.jsx(j2,{})]});function cse(){const t=[{to:"/home",icon:gP,label:"Home"},{to:"/coaching",icon:u6,label:"Coaching"},{to:"/blog",icon:X3,label:"Blog"},{to:"/me",icon:Um,label:"Me"}];return a.jsxs("div",{className:"mx-auto max-w-md h-dvh flex flex-col bg-bg",children:[a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsx(Dj,{})}),a.jsx("nav",{className:"h-16 border-t border-border bg-surface",children:a.jsx("ul",{className:"grid grid-cols-4 h-full text-xs",children:t.map(e=>a.jsx(use,{to:e.to,icon:e.icon,label:e.label},e.to))})}),a.jsx(j2,{})]})}function use({to:t,icon:e,label:n}){return a.jsx("li",{children:a.jsxs(VU,{to:t,className:({isActive:r})=>"flex flex-col items-center justify-center h-full "+(r?"text-fg font-medium":"text-muted"),children:[a.jsx(e,{size:22}),a.jsx("span",{children:n})]})})}const be={functions:{invoke:async(t,e)=>{try{const n=fc(pc,t),r=(e==null?void 0:e.body)||{};return{data:(await n(r)).data,error:null}}catch(n){return console.error(`[Adapter] Error invoking ${t}:`,n),{data:null,error:n}}}},auth:{getSession:async()=>{const t=Wn.currentUser;return{data:{session:t?{access_token:"mock-token",user:{id:t.uid,email:t.email}}:null},error:null}},getUser:async()=>{const t=Wn.currentUser;return{data:{user:t?{id:t.uid,email:t.email}:null},error:null}},onAuthStateChange:t=>({data:{subscription:{unsubscribe:()=>{}}}}),signOut:async()=>(await Wn.signOut(),{error:null})},from:t=>(console.warn(`[Adapter] .from('${t}') called. Legacy Supabase DB call. Refactor to Firestore.`),{select:()=>({eq:()=>({maybeSingle:async()=>({data:null,error:null}),single:async()=>({data:null,error:null}),order:()=>({limit:()=>Promise.resolve({data:[],error:null})})}),order:()=>({limit:()=>Promise.resolve({data:[],error:null})}),limit:()=>Promise.resolve({data:[],error:null})}),insert:async()=>({data:null,error:null}),update:async()=>({data:null,error:null}),delete:async()=>({data:null,error:null}),upsert:async()=>({data:null,error:null})}),storage:{from:t=>({upload:async()=>(console.error(`[Adapter] Storage upload to '${t}' not implemented.`),{error:{message:"Storage not migrated"}}),getPublicUrl:()=>({data:{publicUrl:""}})})},rpc:async(t,e)=>(console.warn(`[Adapter] .rpc('${t}') called. Legacy RPC. Refactor to Callable.`),{data:null,error:null}),channel:()=>({on:()=>({subscribe:()=>{}}),subscribe:()=>{},unsubscribe:()=>{}}),removeChannel:()=>{}},R_=be,CNe=Object.freeze(Object.defineProperty({__proto__:null,dbClient:R_,supabase:be},Symbol.toStringTag,{value:"Module"}));function dse(){const t=Us(),[e,n]=b.useState(!0);return b.useEffect(()=>{async function r(){console.log("[Startup] Starting routing logic"),Na(600);const{data:s}=await R_.auth.getSession();if(s!=null&&s.session){console.log("[Startup] User authenticated, checking admin status");try{const{data:o,error:l}=await R_.functions.invoke("api-admin-check-role",{headers:{Authorization:`Bearer ${s.session.access_token}`}}),c=!l&&(o==null?void 0:o.is_admin)===!0;if(console.log("[Startup] Admin check result:",c),c){console.log("[Startup] Redirecting admin to dashboard"),setTimeout(()=>{t("/admin",{replace:!0}),n(!1)},1200);return}}catch(o){console.error("[Startup] Error checking admin status:",o)}}console.log("[Startup] Routing regular user by device type");const i=window.innerWidth<768||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);console.log("[Startup] Device type, isMobile:",i),setTimeout(()=>{i?t("/pwa/home",{replace:!0}):t("/home",{replace:!0}),n(!1)},1200)}r()},[t]),a.jsxs("section",{className:"startup",children:[a.jsx("div",{className:"startup__logo",children:""}),a.jsx("div",{className:"startup__tag",children:"Grow with Clarity"})]})}function hse(){return typeof navigator>"u"?!1:/iphone|ipad|ipod/i.test(navigator.userAgent)}function cv(){return typeof window>"u"?!1:window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function P2(){const[t,e]=b.useState(null),[n,r]=b.useState(!1),[s,i]=b.useState(!1);return b.useEffect(()=>{if(typeof window>"u")return;function o(c){c.preventDefault(),e(c),i(!0)}function l(){r(!0),e(null);try{localStorage.setItem("zg.pwa.installed","1")}catch(c){console.warn("localStorage not available:",c)}}return window.addEventListener("beforeinstallprompt",o),window.addEventListener("appinstalled",l),i(!cv()),()=>{window.removeEventListener("beforeinstallprompt",o),window.removeEventListener("appinstalled",l)}},[]),{deferred:t,installed:n||cv()||localStorage.getItem("zg.pwa.installed")==="1",eligible:s&&!cv(),isiOS:hse()}}function fse(){if(typeof window>"u")return!0;try{const t=Number(localStorage.getItem("zg.pwa.dismiss_at")||0);return Date.now()-t>7*24*60*60*1e3}catch{return!0}}function pse(){if(typeof window>"u")return 0;try{const t="zg.pwa.visits",e=Number(localStorage.getItem(t)||0)+1;return localStorage.setItem(t,String(e)),e}catch{return 1}}function mse({delayMs:t=8e3,minVisits:e=2}){const{deferred:n,installed:r,eligible:s,isiOS:i}=P2(),{lang:o}=sr(),[l,c]=b.useState(!1),[u,d]=b.useState(!1);if(b.useEffect(()=>{if(typeof window>"u"||!s||r)return;const w=pse();if(!fse()||w<e)return;const E=setTimeout(()=>c(!0),t);return()=>clearTimeout(E)},[s,r,t,e]),!l||r||!s)return null;const h=o==="zh-CN"?" ZhenGrowth ":o==="zh-TW"?" ZhenGrowth ":"Install ZhenGrowth App",f=o==="zh-CN"?" App ":o==="zh-TW"?" App ":"Use it like a store app  faster starts, better experience.",p=o==="zh-CN"?"":o==="zh-TW"?"":"Install",m=o==="zh-CN"?"":o==="zh-TW"?"":"How to install",g=o==="zh-CN"?"":o==="zh-TW"?"":"Later";async function x(){n&&!i?(await n.prompt(),(await n.userChoice).outcome==="accepted"?localStorage.setItem("zg.pwa.installed","1"):localStorage.setItem("zg.pwa.dismiss_at",String(Date.now())),c(!1)):d(!0)}function v(){localStorage.setItem("zg.pwa.dismiss_at",String(Date.now())),c(!1)}return a.jsxs(a.Fragment,{children:[a.jsx(Fu,{children:l&&a.jsx(xt.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-4 left-4 right-4 z-[100] md:left-auto md:right-8 md:max-w-md",children:a.jsxs("div",{className:"relative rounded-2xl border bg-card shadow-2xl backdrop-blur-sm overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent"}),a.jsxs("div",{className:"relative p-4",children:[a.jsx("button",{onClick:v,className:"absolute top-2 right-2 p-1 rounded-full hover:bg-muted/50 transition-colors","aria-label":"Close",children:a.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})}),a.jsxs("div",{className:"flex items-start gap-3 pr-6",children:[a.jsx("img",{src:Bu,alt:"ZhenGrowth",className:"w-12 h-12 rounded-xl flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-semibold text-foreground mb-1",children:h}),a.jsx("div",{className:"text-sm text-muted-foreground mb-3",children:f}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(H,{onClick:x,size:"sm",className:"flex-1",children:n&&!i?a.jsxs(a.Fragment,{children:[a.jsx(Ju,{className:"mr-2 h-4 w-4"}),p]}):a.jsxs(a.Fragment,{children:[a.jsx(xw,{className:"mr-2 h-4 w-4"}),m]})}),a.jsx(H,{onClick:v,variant:"ghost",size:"sm",children:g})]})]})]})]})]})})}),a.jsx(Fu,{children:u&&a.jsx(xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[101] bg-black/60 backdrop-blur-sm grid place-items-end",onClick:()=>d(!1),children:a.jsxs(xt.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"w-full max-w-lg bg-card rounded-t-3xl p-6 border-t shadow-2xl",onClick:w=>w.stopPropagation(),children:[a.jsx("div",{className:"w-12 h-1 bg-muted rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("img",{src:Bu,alt:"ZhenGrowth",className:"w-10 h-10 rounded-xl"}),a.jsx("div",{className:"font-semibold text-lg",children:h})]}),a.jsxs("ol",{className:"text-sm space-y-3 mb-6",children:[a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-medium",children:"1"}),a.jsxs("span",{className:"text-muted-foreground pt-0.5",children:[o==="zh-CN"?' Safari ""':o==="zh-TW"?" Safari ":"Tap the Share button in Safari",a.jsx(xw,{className:"inline-block ml-1 h-4 w-4"})]})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-medium",children:"2"}),a.jsx("span",{className:"text-muted-foreground pt-0.5",children:o==="zh-CN"?'""':o==="zh-TW"?"":'Select "Add to Home Screen"'})]}),a.jsxs("li",{className:"flex gap-3",children:[a.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-medium",children:"3"}),a.jsx("span",{className:"text-muted-foreground pt-0.5",children:o==="zh-CN"?'""':o==="zh-TW"?"":'Confirm the name and tap "Add"'})]})]}),a.jsx(H,{onClick:()=>d(!1),className:"w-full",children:o==="zh-CN"||o==="zh-TW"?"":"Got it"})]})})})]})}function O2({data:t}){return a.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}})}function gse(){return a.jsx(O2,{data:{"@context":"https://schema.org","@type":"Organization",name:"ZhenGrowth",url:"https://zhengrowth.com",logo:"https://zhengrowth.com/logo.png",sameAs:["https://www.linkedin.com/company/zhengrowth","https://www.instagram.com/zhengrowth"]}})}function yse(){return a.jsx(O2,{data:{"@context":"https://schema.org","@type":"WebSite",name:"ZhenGrowth",url:"https://zhengrowth.com",potentialAction:{"@type":"SearchAction",target:"https://zhengrowth.com/search?q={query}","query-input":"required name=query"}}})}const uv={};function xse({content:t="index,follow",addHttpHint:e=!1}){const n=(uv==null?void 0:uv.VITE_SEO_INDEX)??"true",r=window.location.hostname.includes("lovableproject.com"),s=n==="true"&&!r?t:"noindex,nofollow";return a.jsxs(a.Fragment,{children:[a.jsx("meta",{name:"robots",content:s}),a.jsx("meta",{name:"googlebot",content:s}),e&&a.jsx("meta",{httpEquiv:"X-Robots-Tag",content:s})]})}function La({title:t,description:e,path:n="/",lang:r="en",image:s,noIndex:i=!1,alternates:o,canonical:l,site:c}){const u=(c==null?void 0:c.host)||"https://zhengrowth.com";c!=null&&c.cnHost;const d=l||`${u}${n}`,h=s||`${u}/app-icon-512.png`,f=(o==null?void 0:o.en)||`${u}${n}`,p=(o==null?void 0:o["zh-CN"])||`${u}/zh-CN${n}`,m=(o==null?void 0:o["zh-TW"])||`${u}/zh-TW${n}`;return a.jsxs($0,{children:[a.jsx("title",{children:t}),a.jsx("meta",{name:"description",content:e}),i&&a.jsx("meta",{name:"robots",content:"noindex,nofollow"}),a.jsx("link",{rel:"canonical",href:d}),a.jsx("link",{rel:"alternate",hrefLang:"en",href:f}),a.jsx("link",{rel:"alternate",hrefLang:"zh-CN",href:p}),a.jsx("link",{rel:"alternate",hrefLang:"zh-TW",href:m}),a.jsx("link",{rel:"alternate",hrefLang:"x-default",href:f}),a.jsx("meta",{property:"og:title",content:t}),a.jsx("meta",{property:"og:description",content:e}),a.jsx("meta",{property:"og:type",content:"website"}),a.jsx("meta",{property:"og:url",content:d}),a.jsx("meta",{property:"og:image",content:h}),a.jsx("meta",{property:"og:image:secure_url",content:h}),a.jsx("meta",{property:"og:image:type",content:"image/png"}),a.jsx("meta",{property:"og:image:width",content:"512"}),a.jsx("meta",{property:"og:image:height",content:"512"}),a.jsx("meta",{property:"og:image:alt",content:t}),a.jsx("meta",{property:"og:site_name",content:"ZhenGrowth"}),a.jsx("meta",{property:"og:locale",content:r==="zh-CN"?"zh_CN":r==="zh-TW"?"zh_TW":"en_US"}),a.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),a.jsx("meta",{name:"twitter:title",content:t}),a.jsx("meta",{name:"twitter:description",content:e}),a.jsx("meta",{name:"twitter:image",content:h}),a.jsx("meta",{name:"twitter:image:alt",content:t}),a.jsx("meta",{name:"twitter:site",content:"@zhengrowth"}),a.jsx("meta",{name:"twitter:creator",content:"@gracehuangco"}),a.jsx("meta",{httpEquiv:"content-language",content:r})]})}function bse(){const t=typeof window<"u"&&window.location.pathname.startsWith("/admin")?"/admin/manifest.webmanifest":"/manifest.json";return a.jsxs(a.Fragment,{children:[a.jsxs($0,{children:[a.jsx("link",{rel:"icon",type:"image/png",sizes:"192x192",href:"/app-icon-192.png"}),a.jsx("link",{rel:"icon",type:"image/png",sizes:"512x512",href:"/app-icon-512.png"}),a.jsx("link",{rel:"shortcut icon",href:"/app-icon-192.png"}),a.jsx("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"}),a.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),a.jsx("link",{rel:"manifest",href:t}),a.jsx("meta",{name:"theme-color",content:"#0b1f1f"}),a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, viewport-fit=cover"}),a.jsx("meta",{charSet:"utf-8"}),a.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),a.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),a.jsx("meta",{name:"apple-mobile-web-app-title",content:"ZhenGrowth"}),a.jsx("link",{rel:"apple-touch-startup-image",href:"/assets/splash/launch-1290x2796.png",media:"(device-width:430px) and (device-height:932px) and (-webkit-device-pixel-ratio:3)"}),a.jsx("link",{rel:"apple-touch-startup-image",href:"/assets/splash/launch-1179x2556.png",media:"(device-width:393px) and (device-height:852px) and (-webkit-device-pixel-ratio:3)"}),a.jsx("link",{rel:"apple-touch-startup-image",href:"/assets/splash/launch-1284x2778.png",media:"(device-width:428px) and (device-height:926px) and (-webkit-device-pixel-ratio:3)"}),a.jsx("link",{rel:"apple-touch-startup-image",href:"/assets/splash/launch-1170x2532.png",media:"(device-width:390px) and (device-height:844px) and (-webkit-device-pixel-ratio:3)"}),a.jsx("link",{rel:"apple-touch-startup-image",href:"/assets/splash/launch-1125x2436.png",media:"(device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3)"}),a.jsx("link",{rel:"apple-touch-startup-image",href:"/assets/splash/launch-1242x2688.png",media:"(device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3)"}),a.jsx("link",{rel:"preconnect",href:"https://cdn.zhengrowth.com",crossOrigin:"anonymous"}),a.jsx("link",{rel:"preload",as:"image",href:"/app-icon-192.png",imageSizes:"192x192"}),a.jsx("meta",{httpEquiv:"X-Content-Type-Options",content:"nosniff"}),a.jsx("meta",{httpEquiv:"X-Frame-Options",content:"DENY"}),a.jsx("meta",{httpEquiv:"X-XSS-Protection",content:"1; mode=block"})]}),a.jsx(gse,{}),a.jsx(yse,{}),a.jsx(xse,{content:"index,follow"})]})}function _g(){const t=navigator.userAgent||navigator.vendor||window.opera,n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),r=window.innerWidth<768,s="ontouchstart"in window||navigator.maxTouchPoints>0;return n||r&&s}const m1={"/":"/pwa","/home":"/pwa","/quiz":"/pwa/quiz","/coaching":"/pwa/coaching","/coaching-programs":"/pwa/coaching","/me":"/pwa/dashboard","/dashboard":"/pwa/dashboard","/about":"/pwa/dashboard","/pwa":"/","/pwa/home":"/","/pwa/quiz":"/quiz","/pwa/coaching":"/coaching","/pwa/dashboard":"/me"},vse=["/","/admin","/auth","/install","/payment","/thank-you","/privacy","/terms","/blog","/events","/contact","/book"];function wse(){const t=cc(),e=Us();return b.useEffect(()=>{if(typeof window>"u")return;const n=t.pathname;if(vse.some(u=>n.startsWith(u))||n==="/pwa/home"||n==="/pwa")return;const r=new URLSearchParams(t.search),s=r.has("forceDesktop"),i=r.has("forceMobile");if(s||i){try{s&&localStorage.setItem("zg.devicePreference","desktop"),i&&localStorage.setItem("zg.devicePreference","mobile")}catch(u){console.warn("localStorage not available:",u)}return}let o=null;try{o=localStorage.getItem("zg.devicePreference")}catch(u){console.warn("localStorage not available:",u)}let l;o?l=o==="mobile":l=_g();const c=n.startsWith("/pwa");if(l&&!c){const u=m1[n];u&&(console.log(" Redirecting to PWA:",u),e(u+t.search,{replace:!0}))}if(!l&&c){const u=m1[n];u&&(console.log(" Redirecting to website:",u),e(u+t.search,{replace:!0}))}},[t.pathname,t.search,e]),null}function _se(){try{return localStorage.getItem("zg.lang")||document.documentElement.getAttribute("lang")||"en"}catch{return"en"}}function Ese(t,e){return{push:(o,l)=>{(l==null?void 0:l.animate)!==!1&&Na(650),t(o)},replace:(o,l)=>{(l==null?void 0:l.animate)!==!1&&Na(650),e(o)},openExternal:o=>window.open(o,"_blank","noopener,noreferrer"),href:(o,l={})=>{const c=new URL(o,location.origin),u=new URL(location.href),d=_se();return c.searchParams.get("lang")||c.searchParams.set("lang",d),["ref","utm_source","utm_medium","utm_campaign","utm_content"].forEach(h=>{const f=u.searchParams.get(h);f&&!c.searchParams.get(h)&&c.searchParams.set(h,f)}),Object.entries(l).forEach(([h,f])=>{f!=null&&c.searchParams.set(h,String(f))}),c.pathname+c.search+c.hash}}}function M2(){const t=Us();return Ese(e=>t(e),e=>t(e,{replace:!0}))}function Tn({to:t,params:e,replace:n,animate:r,onClick:s,children:i,...o}){const l=M2(),c=l.href(t,e);return a.jsx("a",{...o,href:c,onClick:u=>{s&&s(u),!u.defaultPrevented&&u.button===0&&!(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)&&(u.preventDefault(),(n?l.replace:l.push)(c,{animate:r}))},children:i})}const Gt={home:"/",coaching:"/coaching",events:"/events",blog:"/blog",blogDetail:"/blog/[slug]",quiz:"/quiz",privacy:"/privacy",terms:"/terms",pwaQuiz:"/pwa/quiz",dashboard:"/pwa/dashboard"};function ANe(t,e={}){let n=t;return Object.entries(e).forEach(([r,s])=>n=n.replace(`[${r}]`,encodeURIComponent(s))),n}function Sse(){const[t,e]=b.useState([]);return b.useEffect(()=>{(async()=>{try{const n=await nt("/api/testimonials/list");n!=null&&n.ok&&Array.isArray(n.rows)?e(n.rows):n!=null&&n.error&&console.warn("Testimonials: Database issue",n.error)}catch(n){console.warn("Testimonials: Failed to load (non-critical)",n)}})()},[]),t.length?a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:t.map(n=>a.jsxs("div",{className:"rounded-2xl border border-border bg-card p-6 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.avatar_url&&a.jsx("img",{src:n.avatar_url,alt:`${n.name} avatar`,className:"h-12 w-12 rounded-full border-2 border-primary/20 object-cover",loading:"lazy",onError:r=>{r.currentTarget.style.display="none"}}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-card-foreground",children:n.name}),n.role&&a.jsx("div",{className:"text-xs text-muted-foreground",children:n.role})]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground italic leading-relaxed",children:["",n.quote,""]})]},n.id))}):null}const Tse="/assets/coach-hero-QnMKMWoR.jpg",kS=async(t,e)=>{if(typeof window<"u"&&window.umami&&typeof window.umami=="function")try{window.umami(t,e)}catch(n){console.error("[Analytics] Umami error:",n)}if(typeof window<"u"&&window.posthog&&typeof window.posthog.capture=="function")try{window.posthog.capture(t,e)}catch(n){console.error("[Analytics] PostHog error:",n)}try{let n="";try{n=sessionStorage.getItem("analytics_session_id")||""}catch{}if(!n){try{n=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).slice(2)}`}catch{n=`${Date.now()}-${Math.random().toString(36).slice(2)}`}try{sessionStorage.setItem("analytics_session_id",n)}catch{}}Oa(ot(Re,"analytics_events"),{event_name:t,properties:e||{},session_id:n,page_url:window.location.href,referrer:document.referrer||null,user_agent:navigator.userAgent,created_at:Tr()}).catch(r=>{})}catch{}};let dv=null;const D2=()=>{dv=Date.now(),window.addEventListener("beforeunload",()=>{if(!dv)return;const t=Date.now()-dv,e=Math.floor(t/1e3);let n;e<30?n="session_bucket_under30s":e<60?n="session_bucket_1m":e<180?n="session_bucket_3m":n="session_bucket_5m_plus",kS(n,{duration:e})})};typeof window<"u"&&D2();const Nse=Object.freeze(Object.defineProperty({__proto__:null,initSessionTracking:D2,track:kS},Symbol.toStringTag,{value:"Module"}));class kse{constructor(){xr(this,"sessionId");xr(this,"queue",[]);xr(this,"flushTimeout",null);xr(this,"FLUSH_INTERVAL",5e3);xr(this,"MAX_QUEUE_SIZE",50);let e="";try{e=sessionStorage.getItem("metrics_session_id")||""}catch{}if(!e){try{e=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).slice(2)}`}catch{e=`${Date.now()}-${Math.random().toString(36).slice(2)}`}try{sessionStorage.setItem("metrics_session_id",e)}catch{}}this.sessionId=e,typeof window<"u"&&window.addEventListener("beforeunload",()=>this.flush(!0))}track(e,n){if(navigator.doNotTrack==="1")return;const r={name:e,route:window.location.pathname,referrer:document.referrer||void 0,device:this.getDeviceType(),lang:navigator.language,payload:n,ts:Date.now(),sessionId:this.sessionId},s=new URLSearchParams(window.location.search),i={};["utm_source","utm_medium","utm_campaign","utm_content","utm_term"].forEach(o=>{const l=s.get(o);l&&(i[o]=l)}),Object.keys(i).length>0&&(r.utm=i),this.queue.push(r),this.queue.length>=this.MAX_QUEUE_SIZE?this.flush():this.scheduleFlush()}scheduleFlush(){this.flushTimeout&&clearTimeout(this.flushTimeout),this.flushTimeout=window.setTimeout(()=>this.flush(),this.FLUSH_INTERVAL)}async flush(e=!1){if(this.queue.length===0)return;const n=[...this.queue];this.queue=[],this.flushTimeout&&(clearTimeout(this.flushTimeout),this.flushTimeout=null);try{const r=JSON.stringify({events:n}),s="/api/telemetry/log";if(e&&navigator.sendBeacon){const i=new Blob([r],{type:"application/json"});navigator.sendBeacon(s,i)}else await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:r}),console.log(`[Metrics] Tracked ${n.length} events`)}catch(r){console.error("[Metrics] Failed to track events:",r),e||(this.queue=[...n,...this.queue])}}getDeviceType(){const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"}pageView(){this.track("page_view")}ctaClick(e,n){this.track("cta_click",{button:e,location:n})}bookStart(){this.track("book_start")}bookComplete(){this.track("book_complete")}quizComplete(e){this.track("quiz_complete",{score:e})}blogRead(e,n){this.track("blog_read",{slug:e,category:n})}}const Eg=new kse;if(typeof window<"u"){Eg.pageView();let t=window.location.pathname;new MutationObserver(()=>{window.location.pathname!==t&&(t=window.location.pathname,Eg.pageView())}).observe(document.body,{childList:!0,subtree:!0})}function Ft(t,e){kS(t,e),Eg.track(t,e)}const Cse=Object.freeze(Object.defineProperty({__proto__:null,metricsTracker:Eg,trackEvent:Ft},Symbol.toStringTag,{value:"Module"}));function Ase(){const{lang:t}=sr();return b.useEffect(()=>{Ft("home_page_view",{lang:t})},[t]),a.jsxs(a.Fragment,{children:[a.jsx(La,{title:"ZhenGrowth - Grow with Clarity, Confidence, and Purpose",description:"Transform your career and life with personalized coaching. Expert guidance for Chinese-speaking professionals seeking clarity, confidence, and sustainable growth.",path:"/home",lang:t,image:"https://zhengrowth.com/app-icon-512.png"}),a.jsx("section",{className:"rounded-2xl overflow-hidden bg-gradient-to-br from-primary/5 to-primary/10",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-0",children:[a.jsxs("div",{className:"p-6 sm:p-8 lg:p-12 flex flex-col justify-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-3 sm:mb-4 text-foreground leading-tight",children:t==="zh-CN"?"":t==="zh-TW"?"":"Grow with Clarity"}),a.jsx("p",{className:"text-base sm:text-lg lg:text-xl text-muted-foreground mb-6 lg:mb-8",children:t==="zh-CN"?"":t==="zh-TW"?"":"A calm path to lasting change for Chinese-speaking professionals worldwide"}),a.jsxs("ul",{className:"space-y-2.5 sm:space-y-3 mb-6 lg:mb-8",children:[a.jsxs("li",{className:"flex items-start gap-2.5 sm:gap-3",children:[a.jsx(ai,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-sm sm:text-base text-foreground",children:t==="zh-CN"?"":t==="zh-TW"?"":"Personalized career & life coaching"})]}),a.jsxs("li",{className:"flex items-start gap-2.5 sm:gap-3",children:[a.jsx(ai,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-sm sm:text-base text-foreground",children:t==="zh-CN"?"":t==="zh-TW"?"":"Bilingual support (English & Chinese)"})]}),a.jsxs("li",{className:"flex items-start gap-2.5 sm:gap-3",children:[a.jsx(ai,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-sm sm:text-base text-foreground",children:t==="zh-CN"?"":t==="zh-TW"?"":"Designed for ambitious professionals"})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx(Tn,{to:Gt.pwaQuiz,children:a.jsx("button",{className:"btn btn-primary w-full sm:w-auto text-sm sm:text-base",onClick:()=>Na(650),children:t==="zh-CN"?"60":t==="zh-TW"?"60":"Start 60-second assessment"})}),a.jsx(Tn,{to:Gt.coaching,children:a.jsx("button",{className:"btn btn-outline w-full sm:w-auto text-sm sm:text-base",children:t==="zh-CN"?"":t==="zh-TW"?"":"Explore Coaching"})})]})]}),a.jsxs("div",{className:"relative h-64 sm:h-80 lg:h-auto lg:min-h-[500px]",children:[a.jsx("img",{src:Tse,alt:"Professional coach in modern office setting",className:"absolute inset-0 w-full h-full object-cover object-center",loading:"eager"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t lg:bg-gradient-to-r from-primary/10 via-transparent to-transparent"})]})]})}),a.jsxs("section",{className:"mt-16",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-foreground",children:t==="zh-CN"?"":t==="zh-TW"?"":"What Our Clients Say"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:t==="zh-CN"?"":t==="zh-TW"?"":"Hear from professionals who have transformed their careers and lives through our coaching"})]}),a.jsx(Sse,{})]})]})}var Ise=Mj[" useId ".trim().toString()]||(()=>{}),Rse=0;function ba(t){const[e,n]=b.useState(Ise());return Fn(()=>{n(r=>r??String(Rse++))},[t]),e?`radix-${e}`:""}var jse=b.createContext(void 0);function _x(t){const e=b.useContext(jse);return t||e||"ltr"}var hv="rovingFocusGroup.onEntryFocus",Pse={bubbles:!1,cancelable:!0},qf="RovingFocusGroup",[j_,L2,Ose]=I0(qf),[Mse,Ex]=Hs(qf,[Ose]),[Dse,Lse]=Mse(qf),F2=b.forwardRef((t,e)=>a.jsx(j_.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(j_.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Fse,{...t,ref:e})})}));F2.displayName=qf;var Fse=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=b.useRef(null),p=At(e,f),m=_x(i),[g,x]=go({prop:o,defaultProp:l??null,onChange:c,caller:qf}),[v,w]=b.useState(!1),E=Es(u),S=L2(n),A=b.useRef(!1),[P,N]=b.useState(0);return b.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(hv,E),()=>T.removeEventListener(hv,E)},[E]),a.jsx(Dse,{scope:n,orientation:r,dir:m,loop:s,currentTabStopId:g,onItemFocus:b.useCallback(T=>x(T),[x]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>N(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>N(T=>T-1),[]),children:a.jsx(Fe.div,{tabIndex:v||P===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{A.current=!0}),onFocus:Ve(t.onFocus,T=>{const k=!A.current;if(T.target===T.currentTarget&&k&&!v){const I=new CustomEvent(hv,Pse);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const O=S().filter(L=>L.focusable),R=O.find(L=>L.active),j=O.find(L=>L.id===g),Y=[R,j,...O].filter(Boolean).map(L=>L.ref.current);$2(Y,d)}}A.current=!1}),onBlur:Ve(t.onBlur,()=>w(!1))})})}),V2="RovingFocusGroupItem",B2=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=ba(),u=i||c,d=Lse(V2,n),h=d.currentTabStopId===u,f=L2(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=d;return b.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),a.jsx(j_.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(Fe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ve(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:Ve(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ve(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=$se(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let E=f().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")E.reverse();else if(v==="prev"||v==="next"){v==="prev"&&E.reverse();const S=E.indexOf(x.currentTarget);E=d.loop?zse(E,S+1):E.slice(S+1)}setTimeout(()=>$2(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});B2.displayName=V2;var Vse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bse(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $se(t,e,n){const r=Bse(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Vse[r]}function $2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function zse(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var z2=F2,U2=B2,Sx="Tabs",[Use]=Hs(Sx,[Ex]),H2=Ex(),[Hse,CS]=Use(Sx),W2=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=_x(l),[h,f]=go({prop:r,onChange:s,defaultProp:i??"",caller:Sx});return a.jsx(Hse,{scope:n,baseId:ba(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:a.jsx(Fe.div,{dir:d,"data-orientation":o,...u,ref:e})})});W2.displayName=Sx;var q2="TabsList",G2=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=CS(q2,n),o=H2(n);return a.jsx(z2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Fe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});G2.displayName=q2;var K2="TabsTrigger",Y2=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=CS(K2,n),l=H2(n),c=X2(o.baseId,r),u=J2(o.baseId,r),d=r===o.value;return a.jsx(U2,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Ve(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Ve(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Ve(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});Y2.displayName=K2;var Z2="TabsContent",Q2=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=CS(Z2,n),c=X2(l.baseId,r),u=J2(l.baseId,r),d=r===l.value,h=b.useRef(d);return b.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(Ua,{present:s||d,children:({present:f})=>a.jsx(Fe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});Q2.displayName=Z2;function X2(t,e){return`${t}-trigger-${e}`}function J2(t,e){return`${t}-content-${e}`}var Wse=W2,eF=G2,tF=Y2,nF=Q2;const hd=Wse,mc=b.forwardRef(({className:t,...e},n)=>a.jsx(eF,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));mc.displayName=eF.displayName;const xn=b.forwardRef(({className:t,...e},n)=>a.jsx(tF,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));xn.displayName=tF.displayName;const qn=b.forwardRef(({className:t,children:e,...n},r)=>a.jsx(nF,{ref:r,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n,forceMount:!0,children:a.jsx(Fu,{mode:"wait",children:n.value===n["data-state"]&&a.jsx(xt.div,{initial:{opacity:0,y:6,filter:"blur(2px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-6,filter:"blur(2px)"},transition:{duration:.25,ease:[.22,1,.36,1]},children:e},n.value)})}));qn.displayName=nF.displayName;function qse({open:t,onClose:e,program:n}){return!t||!n?null:a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 animate-fade-in",onClick:e,children:a.jsxs("div",{className:"absolute inset-x-0 bottom-0 rounded-t-3xl bg-surface max-w-md mx-auto max-h-[85vh] flex flex-col animate-slide-in-bottom",onClick:r=>r.stopPropagation(),children:[a.jsx("div",{className:"h-1.5 w-12 rounded-full bg-border mx-auto mt-3 mb-2"}),a.jsxs("div",{className:"flex items-start justify-between px-6 py-3 border-b border-border",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-xl font-semibold text-fg",children:n.title}),a.jsx("p",{className:"text-sm text-muted mt-1",children:n.duration})]}),a.jsx("button",{onClick:e,className:"text-muted hover:text-fg",children:a.jsx(qr,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsxs(hd,{defaultValue:"overview",className:"w-full",children:[a.jsxs(mc,{className:"w-full justify-start px-6 bg-transparent border-b rounded-none",children:[a.jsx(xn,{value:"overview",children:"Overview"}),a.jsx(xn,{value:"reviews",children:"Reviews"}),a.jsx(xn,{value:"faq",children:"FAQ"})]}),a.jsxs(qn,{value:"overview",className:"px-6 py-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-fg mb-2",children:"About this program"}),a.jsx("p",{className:"text-sm text-muted leading-relaxed",children:n.overview})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-fg mb-2",children:"What you get"}),a.jsx("ul",{className:"space-y-2",children:n.benefits.map((r,s)=>a.jsxs("li",{className:"text-sm text-muted flex items-start",children:[a.jsx("span",{className:"text-accent mr-2",children:""}),a.jsx("span",{children:r})]},s))})]})]}),a.jsx(qn,{value:"reviews",className:"px-6 py-4 space-y-4",children:n.reviews.map((r,s)=>a.jsxs("div",{className:"border-b border-border pb-4 last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"font-medium text-fg",children:r.name}),a.jsx("span",{className:"text-accent",children:"".repeat(r.rating)})]}),a.jsx("p",{className:"text-sm text-muted",children:r.text})]},s))}),a.jsx(qn,{value:"faq",className:"px-6 py-4 space-y-3",children:n.faqs.map((r,s)=>a.jsxs("details",{className:"group",children:[a.jsxs("summary",{className:"cursor-pointer font-medium text-fg list-none flex items-center justify-between py-2",children:[r.q,a.jsx("span",{className:"text-muted group-open:rotate-180 transition-transform",children:""})]}),a.jsx("p",{className:"text-sm text-muted pt-2 pb-3",children:r.a})]},s))})]})}),a.jsx("div",{className:"border-t border-border p-4 bg-surface",children:a.jsx(Lt,{to:`/coaching?program=${n.id}`,children:a.jsx(H,{className:"w-full h-12 bg-brand text-white hover:bg-brand/90 rounded-xl",children:"Book this program"})})})]})})}function Gse(){const[t,e]=b.useState(!1),[n,r]=b.useState(null);b.useEffect(()=>{const o=parseInt(localStorage.getItem("app_visits")||"0"),l=localStorage.getItem("a2hs_dismissed"),c=localStorage.getItem("a2hs_installed");if(o>=2&&!l&&!c){const u=d=>{d.preventDefault(),r(d),e(!0)};return window.addEventListener("beforeinstallprompt",u),window.matchMedia("(display-mode: standalone)").matches&&localStorage.setItem("a2hs_installed","true"),()=>window.removeEventListener("beforeinstallprompt",u)}},[]);const s=async()=>{if(!n)return;n.prompt();const{outcome:o}=await n.userChoice;o==="accepted"&&localStorage.setItem("a2hs_installed","true"),r(null),e(!1)},i=()=>{localStorage.setItem("a2hs_dismissed","true"),e(!1)};return t?a.jsx("div",{className:"fixed bottom-24 left-4 right-4 max-w-md mx-auto z-50 animate-slide-in-bottom",children:a.jsxs("div",{className:"bg-gradient-to-br from-brand to-accent p-5 rounded-2xl shadow-2xl border border-white/20",children:[a.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-white/80 hover:text-white",children:a.jsx(qr,{size:20})}),a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx(Ju,{size:24,className:"text-white shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold mb-1",children:"Install ZhenGrowth"}),a.jsx("p",{className:"text-white/90 text-sm",children:"Add to your home screen for quick access and offline use"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(H,{onClick:s,className:"flex-1 bg-white text-brand hover:bg-white/90 font-medium",children:"Install"}),a.jsx(H,{onClick:i,variant:"outline",className:"border-white/30 text-white hover:bg-white/10",children:"Not now"})]})]})}):null}function Sg({children:t}){const[e,n]=b.useState(()=>matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");return b.useEffect(()=>{const r=document.documentElement;e==="dark"?r.classList.add("dark"):r.classList.remove("dark");const s=document.querySelector('meta[name="theme-color"]');s&&(s.content=e==="dark"?"#0b1f1f":"#ffffff")},[e]),a.jsxs("div",{className:"min-h-[100svh] bg-background text-foreground antialiased",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"calc(env(safe-area-inset-bottom) + 64px)"},children:[a.jsx("header",{className:"sticky top-0 z-40 backdrop-blur-md bg-card/75 border-b border-border",style:{paddingTop:"env(safe-area-inset-top)"},children:a.jsxs("div",{className:"px-4 h-14 flex items-center justify-between",children:[a.jsxs("a",{href:"/home",className:"flex items-center gap-2",children:[a.jsx("img",{src:"/app-icon.png",alt:"ZhenGrowth",width:32,height:32,decoding:"async",className:"rounded-lg"}),a.jsx("span",{className:"font-semibold text-base",children:"ZhenGrowth"})]}),a.jsx("button",{className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 bg-card text-foreground shadow-sm border border-border hover:bg-accent transition-colors",onClick:()=>n(r=>r==="dark"?"light":"dark"),"aria-label":"Toggle theme",children:e==="dark"?" Light":" Dark"})]})}),a.jsx("main",{className:"px-4 pb-4",children:t}),a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 border-t border-border bg-card/95 backdrop-blur",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:a.jsxs("div",{className:"grid grid-cols-4 h-16",children:[a.jsx(Rp,{href:"/home",label:"Home",icon:""}),a.jsx(Rp,{href:"/events",label:"Events",icon:""}),a.jsx(Rp,{href:"/blog",label:"Blog",icon:""}),a.jsx(Rp,{href:"/coaching",label:"Book",icon:""})]})})]})}function Rp({href:t,label:e,icon:n}){const s=cc().pathname===t;return a.jsxs("a",{href:t,className:`flex flex-col items-center justify-center gap-1 text-xs transition-colors ${s?"text-primary font-medium":"text-muted-foreground"}`,"aria-current":s?"page":void 0,children:[a.jsx("span",{className:"text-xl",children:n}),a.jsx("span",{children:e})]})}function rh({title:t,children:e,subtitle:n}){return a.jsxs("section",{className:"mt-6",children:[a.jsx("h2",{className:"text-lg font-semibold",children:t}),n&&a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n}),a.jsx("div",{className:"mt-3",children:e})]})}function Am({children:t,href:e}){const n=e?"a":"div";return a.jsx(n,{href:e,className:"block rounded-2xl border border-border bg-card shadow-sm p-3 active:scale-[0.998] transition hover:shadow-md",children:t})}function Kse({children:t,href:e,onClick:n}){const r=e?"a":"button";return a.jsx(r,{href:e,onClick:n,className:"w-full h-12 rounded-xl text-[15px] font-semibold bg-primary text-primary-foreground hover:bg-primary/90 transition inline-flex items-center justify-center",children:t})}function Yse({items:t}){return a.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.map((e,n)=>a.jsxs("div",{className:"rounded-xl bg-muted/50 border border-border p-3 text-center",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:e.label}),a.jsx("div",{className:"text-lg font-semibold mt-1",children:e.value})]},n))})}function g1({className:t=""}){return a.jsx("div",{className:`animate-pulse rounded-xl bg-muted ${t}`})}function Zse(){return a.jsxs("section",{className:"rounded-2xl overflow-hidden relative mt-4",children:[a.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-primary/20 to-primary/5","aria-hidden":"true"}),a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-2xl leading-tight font-bold",children:"Clarity  Confidence  Consistency"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Bilingual coaching (English/)  designed for mobile."}),a.jsx(Qse,{}),a.jsx("a",{href:"/coaching",className:"mt-4 w-full h-12 rounded-xl text-[15px] font-semibold bg-primary text-primary-foreground hover:bg-primary/90 transition inline-flex items-center justify-center",children:"Book a Free Call"})]})]})}function Qse(){return typeof window<"u"&&matchMedia("(prefers-reduced-motion: reduce)").matches,a.jsx("div",{className:"mt-4 rounded-xl overflow-hidden bg-muted aspect-video flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"text-4xl mb-2",children:""}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Video intro coming soon"})]})})}function Xse(){const[t,e]=b.useState(null);b.useEffect(()=>{Ft("page_view",{page:"mobile_home"});const r=parseInt(localStorage.getItem("app_visits")||"0");localStorage.setItem("app_visits",String(r+1))},[]);const n=[{id:"career",title:"Career Breakthrough",description:"Navigate transitions with clarity",duration:"68 weeks  1:1",overview:"Designed for professionals navigating career transitions, this program helps you gain clarity on your next move, build confidence in your decisions, and create an actionable roadmap for success.",benefits:["Weekly 1:1 coaching sessions (60 min)","Personalized career assessment","Action plan with clear milestones","Email support between sessions","Resources & worksheets"],reviews:[{name:"Sarah L.",rating:5,text:"Helped me navigate a major career transition with confidence. The structured approach and personalized guidance were exactly what I needed."},{name:"Michael C.",rating:5,text:"Transformative experience. I gained clarity on my career goals and have a concrete plan to achieve them."}],faqs:[{q:"How long is each session?",a:"Each session is 60 minutes, conducted via video call at a time that works for your schedule."},{q:"What if I need to reschedule?",a:"You can reschedule up to 24 hours before your session with no penalty."},{q:"Is this program right for me?",a:"If you're considering a career change, feeling stuck, or want to accelerate your growth, this program is designed for you."}]},{id:"leadership",title:"Leadership Accelerator",description:"Lead with confidence and impact",duration:"68 weeks  1:1",overview:"Elevate your leadership presence and effectiveness. This program focuses on developing your authentic leadership style, improving team dynamics, and driving meaningful impact.",benefits:["Weekly 1:1 leadership coaching","360 leadership assessment","Communication & influence strategies","Team dynamics workshops","Ongoing support via email"],reviews:[{name:"Jennifer W.",rating:5,text:"My team engagement scores improved dramatically. The coaching helped me become the leader I always wanted to be."},{name:"David K.",rating:5,text:"Practical, actionable insights that I could apply immediately. Worth every penny."}],faqs:[{q:"Do I need to be in a leadership role?",a:"This program is for current leaders and those aspiring to leadership positions."},{q:"What tools do you use?",a:"We use proven frameworks and assessments tailored to your specific context and goals."}]},{id:"life",title:"Life Reset",description:"Realign with your purpose",duration:"68 weeks  1:1",overview:"Step back, reflect, and realign with what truly matters. This holistic program helps you reconnect with your values, clarify your purpose, and design a life that feels authentic and fulfilling.",benefits:["Deep values & purpose exploration","Life design framework","Weekly 1:1 sessions","Meditation & mindfulness practices","Personalized action plan"],reviews:[{name:"Amanda R.",rating:5,text:"Life-changing. I finally feel aligned with my values and have a clear vision for my future."}],faqs:[{q:"Is this therapy?",a:"No, this is coaching focused on forward movement and goal achievement, not clinical therapy."},{q:"How is this different from career coaching?",a:"This program takes a holistic view of all life domains, not just career."}]},{id:"executive",title:"Executive Presence",description:"Elevate your influence",duration:"4 weeks  1:1",overview:"Build commanding presence and influence in high-stakes situations. Perfect for executives and senior leaders.",benefits:["Intensive 4-week program","Communication mastery","Personal branding strategy","High-stakes presentation coaching"],reviews:[{name:"Robert T.",rating:5,text:"Helped me command the room and communicate with clarity at the C-level."}],faqs:[{q:"Who is this for?",a:"Senior leaders, executives, and high-potential managers."}]},{id:"balance",title:"Work-Life Integration",description:"Balance without burnout",duration:"6 weeks  1:1",overview:"Create sustainable success without sacrificing what matters most.",benefits:["Energy management techniques","Boundary-setting strategies","Sustainable productivity systems","Stress reduction practices"],reviews:[{name:"Lisa M.",rating:5,text:"Finally found a way to excel at work without burning out. Game-changer."}],faqs:[{q:"Will I need to work less?",a:"Not necessarily. We focus on working smarter and creating space for what matters."}]}];return a.jsxs(Sg,{children:[a.jsx(Zse,{}),a.jsx(rh,{title:"Popular Programs",subtitle:"Choose the right path for your growth",children:a.jsx("div",{className:"flex gap-4 overflow-x-auto snap-x snap-mandatory scrollbar-hide -mx-4 px-4 pb-2",children:n.map((r,s)=>a.jsxs("button",{onClick:()=>e(r),className:"min-w-[85%] snap-start shrink-0 p-5 rounded-2xl border border-border bg-card hover:shadow-lg transition-all text-left",style:{animationDelay:`${s*100}ms`},children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:r.title}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:r.description}),a.jsx("p",{className:"text-xs text-muted-foreground/80",children:r.duration})]},r.id))})}),a.jsx(rh,{title:"Quick Wins",subtitle:"Start your journey today",children:a.jsxs("div",{className:"grid gap-3",children:[a.jsx(Am,{href:Gt.quiz,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"3-min Clarity Quiz"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Get your personalized 90-day plan"})]})]})}),a.jsx(Am,{href:Gt.events,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Live Workshops"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Join bilingual sessions"})]})]})}),a.jsx(Am,{href:Gt.coaching,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Free Clarity Call"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"30-min discovery session"})]})]})})]})}),a.jsx(rh,{title:"Results at a Glance",children:a.jsx(Yse,{items:[{label:"LeadClient",value:"12%"},{label:"NPS",value:"+62"},{label:"Avg Session",value:"8m"}]})}),a.jsx(rh,{title:"Ready to Start?",children:a.jsx(Kse,{href:Gt.coaching,children:"Book Your Free Call"})}),a.jsx(qse,{open:!!t,onClose:()=>e(null),program:t}),a.jsx(Gse,{})]})}function Jse(){const{theme:t,resolvedTheme:e,setTheme:n}=sr();return a.jsxs("div",{className:"inline-flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-muted-foreground hidden sm:inline",children:"Theme"}),a.jsxs("select",{className:"h-9 rounded-lg px-3 py-1 bg-surface text-foreground border border-border hover:bg-accent transition-colors text-sm",value:t,onChange:r=>n(r.target.value),"aria-label":"Select theme",children:[a.jsxs("option",{value:"auto",children:["Auto (",e,")"]}),a.jsx("option",{value:"light",children:" Light"}),a.jsx("option",{value:"dark",children:" Dark"})]})]})}const y1={hidden:{opacity:0,y:0,x:0,scale:.98,filter:"blur(4px)"},show:{opacity:1,y:0,x:0,scale:1,filter:"blur(0px)"}};function eie(t){switch(t){case"up":return{y:16};case"down":return{y:-16};case"left":return{x:16};case"right":return{x:-16};default:return{}}}function ua({children:t,once:e=!0,delay:n=0,dir:r="up",as:s=xt.div,className:i,threshold:o=.25}){const l=nse(),c=b.useRef(null);return b.useEffect(()=>{const u=c.current,d=new IntersectionObserver(h=>{h.forEach(f=>{f.isIntersecting?l.start("show"):e||l.start("hidden")})},{threshold:o});return d.observe(u),()=>d.disconnect()},[l,e,o]),a.jsx(s,{ref:c,initial:"hidden",animate:l,variants:{hidden:{...y1.hidden,...eie(r)},show:{...y1.show,transition:{delay:n,duration:.5}}},className:i,children:t})}function x1(){const{t}=nd("about");return b.useEffect(()=>{Ft("nav_click",{page:"about"})},[]),a.jsxs("main",{className:"max-w-5xl mx-auto px-6 py-12",children:[a.jsxs(xt.header,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-10",children:[a.jsx("h1",{className:"text-4xl font-semibold text-fg",children:t("title")}),a.jsx(Jse,{})]}),a.jsxs("section",{className:"grid md:grid-cols-3 gap-8 items-start",children:[a.jsxs(ua,{className:"md:col-span-2 space-y-5",children:[a.jsx("h2",{className:"text-2xl font-serif text-brand",children:t("hero")}),a.jsx("p",{className:"text-muted",children:t("tag")}),a.jsx("p",{className:"text-fg",children:t("intro_p1")}),a.jsx("p",{className:"text-fg",children:t("intro_p2")}),a.jsx("p",{className:"text-fg",children:t("bio_p1")}),a.jsx("p",{className:"text-fg",children:t("bio_p2")}),a.jsx("div",{className:"p-5 rounded-xl bg-surface border border-border shadow-soft",children:a.jsx("p",{className:"font-medium text-fg",children:t("cred")})}),a.jsx("p",{className:"text-fg",children:t("life")}),a.jsx("p",{className:"text-lg font-medium text-fg",children:t("mission")}),a.jsx(Tn,{to:Gt.coaching,className:"inline-flex mt-4 items-center gap-2 px-5 py-3 rounded-xl bg-cta text-white shadow-soft hover:opacity-90 transition-smooth",onClick:()=>Ft("cta_click",{button:"Book Free Call",location:"about_page"}),children:t("cta")})]}),a.jsxs(ua,{dir:"left",delay:.2,className:"space-y-4",children:[a.jsx("img",{src:"/assets/images/amelda.jpg",alt:"Amelda Chen",className:"rounded-xl shadow-soft border border-border w-full"}),a.jsx("div",{className:"text-sm text-muted",children:a.jsxs("p",{children:["Follow: ",a.jsx("a",{href:"https://www.instagram.com/",className:"underline hover:text-brand",children:"Instagram"}),"  ",a.jsx("a",{href:"https://www.facebook.com/",className:"underline hover:text-brand",children:"Facebook"})]})})]})]})]})}const fe=b.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));fe.displayName="Input";const b1={en:{book:"Book a session",seeTimes:"See more times",pay:"Pay",freeCall:"Free Discovery Call",priority:"Priority Session",apply:"Apply",coupon:"Coupon",processing:"Processing",checking:"Checking availability",nextSlots:"Next available slots"},"zh-CN":{book:"",seeTimes:"",pay:"",freeCall:"",priority:"",apply:"",coupon:"",processing:"",checking:"",nextSlots:""},"zh-TW":{book:"",seeTimes:"",pay:"",freeCall:"",priority:"",apply:"",coupon:"",processing:"",checking:"",nextSlots:""}};function Ac(t,e){var n,r;return((n=b1[t])==null?void 0:n[e])||((r=b1.en)==null?void 0:r[e])||e}function tie({slug:t,prefill:e}){const n="zhengrowth",r=new URLSearchParams(e).toString(),s=`https://cal.com/${n}/${t}${r?`?${r}`:""}`;return a.jsx("iframe",{src:s,title:"Schedule with ZhenGrowth",className:"w-full h-[80svh] rounded-2xl border border-border",loading:"lazy"})}function rF({slug:t,defaultName:e="",defaultEmail:n=""}){var P,N,T,k;const{lang:r}=sr(),[s,i]=b.useState(null),[o,l]=b.useState("USD"),[c,u]=b.useState(""),[d]=b.useState(new URLSearchParams(window.location.search).get("promo")||""),[h,f]=b.useState(!1),[p,m]=b.useState(!1),[g,x]=b.useState("");b.useEffect(()=>{(async()=>{const I=await nt("/api/coaching/price-with-discount",{body:{slug:t,currency:o,coupon:c||void 0,promo:d||void 0}});I!=null&&I.ok&&I.amount_cents>0?i({billing:"paid",price:{cur:I.currency,cents:I.amount_cents,discount:I.discount_cents||0}}):i({billing:"free"})})()},[t,o,c,d]),b.useEffect(()=>{(async()=>{const O=await(await fetch(`/api/coaching/get?slug=${t}`)).json();O!=null&&O.ok&&O.cal_event_type_slug?x(O.cal_event_type_slug):O.cal_event_type_slug||x("discovery")})()},[t]);async function v(){Na(600),f(!0);try{if(!g){$.error("Calendar configuration not found");return}m(!0)}finally{setTimeout(()=>f(!1),700)}}async function w(){Na(600),f(!0);try{const I=await nt("/api/coaching/checkout",{body:{slug:t,name:e||"Client",email:n||"",currency:o,coupon:c||void 0,promo:d||void 0}});I!=null&&I.ok&&I.url?window.location.href=I.url:I!=null&&I.ok&&I.free?await v():$.error((I==null?void 0:I.error)||"Unable to start checkout")}catch(I){$.error(I.message||"Payment error. Please try again.")}finally{setTimeout(()=>f(!1),900)}}const E=(s==null?void 0:s.billing)==="paid",S=((P=s==null?void 0:s.price)==null?void 0:P.discount)||0,A=new Intl.NumberFormat(r,{style:"currency",currency:((N=s==null?void 0:s.price)==null?void 0:N.cur)||o});return p&&g?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Select Your Time"}),a.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>m(!1),className:"gap-2",children:[a.jsx(qr,{className:"h-4 w-4"}),"Close Calendar"]})]}),a.jsx(tie,{slug:g,prefill:{name:e,email:n}})]}):a.jsx("div",{className:"space-y-3",children:E?a.jsxs("div",{className:"space-y-3",children:[S>0&&a.jsx("div",{className:"rounded-lg bg-primary/10 border border-primary/20 p-3 text-sm",children:a.jsxs("span",{className:"font-semibold text-primary",children:[A.format(S/100)," discount applied!"]})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(fe,{className:"flex-1 min-w-[120px]",placeholder:Ac(r,"coupon")||"Coupon code",value:c,onChange:I=>u(I.target.value.toUpperCase())}),a.jsx("select",{className:"h-10 px-3 rounded-md border border-input bg-background text-sm font-medium",value:o,onChange:I=>l(I.target.value),children:["USD","CAD","EUR","GBP","HKD","SGD","CNY"].map(I=>a.jsx("option",{value:I,children:I},I))})]}),a.jsx(H,{variant:"default",size:"lg",onClick:w,disabled:h,className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-primary-foreground font-semibold text-base shadow-lg",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Ts,{className:"h-4 w-4 mr-2 animate-spin"}),Ac(r,"processing")||"Processing..."]}):S>0?a.jsxs(a.Fragment,{children:[Ac(r,"pay")||"Pay"," ",A.format((((T=s==null?void 0:s.price)==null?void 0:T.cents)||0)/100),a.jsxs("span",{className:"ml-2 text-xs opacity-80",children:["(saved ",A.format(S/100),")"]})]}):a.jsxs(a.Fragment,{children:[Ac(r,"pay")||"Pay"," ",A.format((((k=s==null?void 0:s.price)==null?void 0:k.cents)||0)/100)]})})]}):a.jsx(H,{variant:"default",size:"lg",onClick:v,disabled:h,className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-primary-foreground font-semibold text-base shadow-lg",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Ts,{className:"h-4 w-4 mr-2 animate-spin"}),Ac(r,"loading")||"Loading..."]}):a.jsx(a.Fragment,{children:Ac(r,"seeTimes")||"Book Your Free Session"})})})}function nie({offer:t}){var h,f;const{lang:e}=sr(),[n,r]=b.useState("USD"),[s,i]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState(!0);b.useEffect(()=>{(async()=>{const p=await nt("/api/coaching/price",{body:{slug:t.slug,currency:n}});p!=null&&p.ok?i({amount_cents:p.amount_cents,currency:p.currency,discount_cents:p.discount_cents}):i(null)})()},[t.slug,n]),b.useEffect(()=>{(async()=>{u(!0);const p=Intl.DateTimeFormat().resolvedOptions().timeZone,m=await nt("/api/coaching/availability",{body:{slug:t.slug,tz:p}});l(m!=null&&m.ok?(m.slots||[]).slice(0,3):[]),u(!1)})()},[t.slug]);const d=(p,m)=>new Intl.NumberFormat(e,{style:"currency",currency:m}).format(p/100);return a.jsxs("div",{className:"rounded-2xl border border-border bg-card p-6 hover:shadow-lg transition-shadow",children:[a.jsxs(Lt,{to:`/coaching/${t.slug}`,className:"block mb-4 group",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold text-card-foreground group-hover:text-primary transition-colors",children:((h=t.localized)==null?void 0:h.title)||t.title_en||"Coaching Program"}),t.billing_type==="free"&&a.jsx("span",{className:"inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:"FREE"})]}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed group-hover:text-foreground transition-colors",children:((f=t.localized)==null?void 0:f.summary)||t.summary_en||"Professional coaching program"})]}),t.billing_type==="paid"&&a.jsx("div",{className:"mb-4 p-4 rounded-xl bg-primary/5 border border-primary/20",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Investment"}),a.jsx("div",{className:"text-2xl font-bold text-foreground",children:s?d(s.amount_cents,s.currency):"..."})]}),a.jsx("select",{className:"h-10 px-3 rounded-md border border-input bg-background text-sm font-medium",value:n,onChange:p=>r(p.target.value),children:["USD","CAD","EUR","GBP","HKD","SGD","CNY"].map(p=>a.jsx("option",{value:p,children:p},p))})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:c?"Checking availability...":"Upcoming times:"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:c?Array.from({length:3}).map((p,m)=>a.jsx("div",{className:"h-9 rounded-lg bg-muted animate-pulse"},m)):o.length?o.map((p,m)=>{const x=new Date(p.start).toLocaleString(e,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsx("div",{className:"px-3 py-2 rounded-lg border border-border bg-muted/50 text-sm font-medium text-foreground",children:x},m)}):a.jsx("div",{className:"text-sm text-muted-foreground italic",children:"Click below to see full calendar"})})]}),a.jsx(rF,{slug:t.slug})]})}const rie="coaching_offers",sie={async getActiveOffers(){const t=It(ot(Re,rie),nn("isActive","==",!0));return(await Pt(t)).docs.map(n=>({id:n.id,...n.data()}))}};function iie(){var l;const{lang:t}=sr(),[e,n]=b.useState(null),[r,s]=b.useState(!0),[i,o]=b.useState(null);return b.useEffect(()=>{Ft("coaching_programs_view",{lang:t}),(async()=>{try{const u=await sie.getPrograms(t);n({ok:!0,rows:u,lang:t})}catch(u){o(u.message)}finally{s(!1)}})()},[t]),a.jsxs(a.Fragment,{children:[a.jsx(La,{title:t==="zh-CN"?" | ZhenGrowth":t==="zh-TW"?" | ZhenGrowth":"Coaching Programs | ZhenGrowth",description:t==="zh-CN"?"  ":t==="zh-TW"?"  ":"Choose the path that fits  book instantly with professional life and career coaching",path:"/coaching",lang:t,image:"https://zhengrowth.com/app-icon.png"}),a.jsxs("header",{className:"rounded-2xl p-6 md:p-8 mb-6 bg-gradient-to-br from-primary/10 to-primary/5 border border-primary/20",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3 text-foreground",children:t==="zh-CN"?"":t==="zh-TW"?"":"Coaching Programs"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:t==="zh-CN"?"  ":t==="zh-TW"?"  ":"Choose the path that fits  book instantly with professional life and career coaching"})]}),r?a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Array.from({length:4}).map((c,u)=>a.jsxs("div",{className:"rounded-2xl border border-border p-6 animate-pulse",children:[a.jsx("div",{className:"h-6 bg-muted rounded w-3/4 mb-3"}),a.jsx("div",{className:"h-4 bg-muted rounded w-full mb-2"}),a.jsx("div",{className:"h-4 bg-muted rounded w-5/6 mb-4"}),a.jsx("div",{className:"h-10 bg-muted rounded w-full"})]},u))}):i?a.jsxs("div",{className:"rounded-2xl border border-destructive/50 bg-destructive/10 p-6 text-center",children:[a.jsx("p",{className:"text-destructive font-semibold mb-2",children:t==="zh-CN"?"":t==="zh-TW"?"":"Unable to load coaching programs"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:String(i)}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:t==="zh-CN"?"":t==="zh-TW"?"":"Retry"})]}):!(e!=null&&e.ok)||!((l=e==null?void 0:e.rows)!=null&&l.length)?a.jsx("div",{className:"rounded-2xl border border-border p-8 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:t==="zh-CN"?"":t==="zh-TW"?"":"No coaching programs available at this time."})}):a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.rows.map(c=>a.jsx(nie,{offer:c},c.slug))})]})}var Gf=t=>t.type==="checkbox",yl=t=>t instanceof Date,Xr=t=>t==null;const sF=t=>typeof t=="object";var Ln=t=>!Xr(t)&&!Array.isArray(t)&&sF(t)&&!yl(t),oie=t=>Ln(t)&&t.target?Gf(t.target)?t.target.checked:t.target.value:t,aie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,lie=(t,e)=>t.has(aie(e)),cie=t=>{const e=t.constructor&&t.constructor.prototype;return Ln(e)&&e.hasOwnProperty("isPrototypeOf")},AS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(AS&&(t instanceof Blob||r))&&(n||Ln(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!cie(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Qn(t[s]));else return t;return e}var Tx=t=>/^\w*$/.test(t),Sn=t=>t===void 0,IS=t=>Array.isArray(t)?t.filter(Boolean):[],RS=t=>IS(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(t,e,n)=>{if(!e||!Ln(t))return n;const r=(Tx(e)?[e]:RS(e)).reduce((s,i)=>Xr(s)?s:s[i],t);return Sn(r)||r===t?Sn(t[e])?n:t[e]:r},Si=t=>typeof t=="boolean",$t=(t,e,n)=>{let r=-1;const s=Tx(e)?[e]:RS(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=Ln(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const v1={BLUR:"blur",FOCUS_OUT:"focusout"},ti={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},eo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uie=Q.createContext(null);uie.displayName="HookFormContext";var die=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ti.all&&(e._proxyFormState[o]=!r||ti.all),t[o]}});return s};const hie=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;var ys=t=>typeof t=="string",fie=(t,e,n,r,s)=>ys(t)?(r&&e.watch.add(t),Ae(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Ae(n,i))):(r&&(e.watchAll=!0),n),P_=t=>Xr(t)||!sF(t);function ta(t,e,n=new WeakSet){if(P_(t)||P_(e))return t===e;if(yl(t)&&yl(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const i of r){const o=t[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=e[i];if(yl(o)&&yl(l)||Ln(o)&&Ln(l)||Array.isArray(o)&&Array.isArray(l)?!ta(o,l,n):o!==l)return!1}}return!0}var iF=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Eh=t=>Array.isArray(t)?t:[t],w1=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}};function oF(t,e){const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r],i=e[r];if(s&&Ln(s)&&i){const o=oF(s,i);Ln(o)&&(n[r]=o)}else t[r]&&(n[r]=i)}return n}var Yr=t=>Ln(t)&&!Object.keys(t).length,jS=t=>t.type==="file",ni=t=>typeof t=="function",Tg=t=>{if(!AS)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aF=t=>t.type==="select-multiple",PS=t=>t.type==="radio",pie=t=>PS(t)||Gf(t),fv=t=>Tg(t)&&t.isConnected;function mie(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Sn(t)?r++:t[e[r++]];return t}function gie(t){for(const e in t)if(t.hasOwnProperty(e)&&!Sn(t[e]))return!1;return!0}function Rn(t,e){const n=Array.isArray(e)?e:Tx(e)?[e]:RS(e),r=n.length===1?t:mie(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(Ln(r)&&Yr(r)||Array.isArray(r)&&gie(r))&&Rn(t,n.slice(0,-1)),t}var yie=t=>{for(const e in t)if(ni(t[e]))return!0;return!1};function lF(t){return Array.isArray(t)||Ln(t)&&!yie(t)}function O_(t,e={}){for(const n in t)lF(t[n])?(e[n]=Array.isArray(t[n])?[]:{},O_(t[n],e[n])):Sn(t[n])||(e[n]=!0);return e}function Hc(t,e,n){n||(n=O_(e));for(const r in t)lF(t[r])?Sn(e)||P_(n[r])?n[r]=O_(t[r],Array.isArray(t[r])?[]:{}):Hc(t[r],Xr(e)?{}:e[r],n[r]):n[r]=!ta(t[r],e[r]);return n}const _1={value:!1,isValid:!1},E1={value:!0,isValid:!0};var cF=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Sn(t[0].attributes.value)?Sn(t[0].value)||t[0].value===""?E1:{value:t[0].value,isValid:!0}:E1:_1}return _1},uF=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Sn(t)?t:e?t===""?NaN:t&&+t:n&&ys(t)?new Date(t):r?r(t):t;const S1={isValid:!1,value:null};var dF=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,S1):S1;function T1(t){const e=t.ref;return jS(e)?e.files:PS(e)?dF(t.refs).value:aF(e)?[...e.selectedOptions].map(({value:n})=>n):Gf(e)?cF(t.refs).value:uF(Sn(e.value)?t.ref.value:e.value,t)}var xie=(t,e,n,r)=>{const s={};for(const i of t){const o=Ae(e,i);o&&$t(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Ng=t=>t instanceof RegExp,Vd=t=>Sn(t)?t:Ng(t)?t.source:Ln(t)?Ng(t.value)?t.value.source:t.value:t,N1=t=>({isOnSubmit:!t||t===ti.onSubmit,isOnBlur:t===ti.onBlur,isOnChange:t===ti.onChange,isOnAll:t===ti.all,isOnTouch:t===ti.onTouched});const k1="AsyncFunction";var bie=t=>!!t&&!!t.validate&&!!(ni(t.validate)&&t.validate.constructor.name===k1||Ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===k1)),vie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),C1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Sh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Ae(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Sh(l,e))break}else if(Ln(l)&&Sh(l,e))break}}};function A1(t,e,n){const r=Ae(t,n);if(r||Tx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=Ae(e,i),l=Ae(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:n}}var wie=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Yr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||ti.all))},_ie=(t,e,n)=>!t||!e||t===e||Eh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Eie=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Sie=(t,e)=>!IS(Ae(t,e)).length&&Rn(t,e),Tie=(t,e,n)=>{const r=Eh(Ae(t,n));return $t(r,"root",e[n]),$t(t,n,r),t};function I1(t,e,n="validate"){if(ys(t)||Array.isArray(t)&&t.every(ys)||Si(t)&&!t)return{type:n,message:ys(t)?t:"",ref:e}}var Ic=t=>Ln(t)&&!Ng(t)?t:{value:t,message:""},R1=async(t,e,n,r,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:g,valueAsNumber:x,mount:v}=t._f,w=Ae(n,g);if(!v||e.has(g))return{};const E=l?l[0]:o,S=R=>{s&&E.reportValidity&&(E.setCustomValidity(Si(R)?"":R||""),E.reportValidity())},A={},P=PS(o),N=Gf(o),T=P||N,k=(x||jS(o))&&Sn(o.value)&&Sn(w)||Tg(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,I=iF.bind(null,g,r,A),O=(R,j,F,Y=eo.maxLength,L=eo.minLength)=>{const z=R?j:F;A[g]={type:R?Y:L,message:z,ref:o,...I(R?Y:L,z)}};if(i?!Array.isArray(w)||!w.length:c&&(!T&&(k||Xr(w))||Si(w)&&!w||N&&!cF(l).isValid||P&&!dF(l).isValid)){const{value:R,message:j}=ys(c)?{value:!!c,message:c}:Ic(c);if(R&&(A[g]={type:eo.required,message:j,ref:E,...I(eo.required,j)},!r))return S(j),A}if(!k&&(!Xr(h)||!Xr(f))){let R,j;const F=Ic(f),Y=Ic(h);if(!Xr(w)&&!isNaN(w)){const L=o.valueAsNumber||w&&+w;Xr(F.value)||(R=L>F.value),Xr(Y.value)||(j=L<Y.value)}else{const L=o.valueAsDate||new Date(w),z=de=>new Date(new Date().toDateString()+" "+de),U=o.type=="time",G=o.type=="week";ys(F.value)&&w&&(R=U?z(w)>z(F.value):G?w>F.value:L>new Date(F.value)),ys(Y.value)&&w&&(j=U?z(w)<z(Y.value):G?w<Y.value:L<new Date(Y.value))}if((R||j)&&(O(!!R,F.message,Y.message,eo.max,eo.min),!r))return S(A[g].message),A}if((u||d)&&!k&&(ys(w)||i&&Array.isArray(w))){const R=Ic(u),j=Ic(d),F=!Xr(R.value)&&w.length>+R.value,Y=!Xr(j.value)&&w.length<+j.value;if((F||Y)&&(O(F,R.message,j.message),!r))return S(A[g].message),A}if(p&&!k&&ys(w)){const{value:R,message:j}=Ic(p);if(Ng(R)&&!w.match(R)&&(A[g]={type:eo.pattern,message:j,ref:o,...I(eo.pattern,j)},!r))return S(j),A}if(m){if(ni(m)){const R=await m(w,n),j=I1(R,E);if(j&&(A[g]={...j,...I(eo.validate,j.message)},!r))return S(j.message),A}else if(Ln(m)){let R={};for(const j in m){if(!Yr(R)&&!r)break;const F=I1(await m[j](w,n),E,j);F&&(R={...F,...I(j,F.message)},S(F.message),r&&(A[g]=R))}if(!Yr(R)&&(A[g]={ref:E,...R},!r))return A}}return S(!0),A};const Nie={mode:ti.onSubmit,reValidateMode:ti.onChange,shouldFocusError:!0};function kie(t={}){let e={...Nie,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ni(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=Ln(e.defaultValues)||Ln(e.values)?Qn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Qn(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:w1(),state:w1()},p=e.criteriaMode===ti.all,m=D=>B=>{clearTimeout(u),u=setTimeout(D,B)},g=async D=>{if(!e.disabled&&(d.isValid||h.isValid||D)){const B=e.resolver?Yr((await N()).errors):await k(r,!0);B!==n.isValid&&f.state.next({isValid:B})}},x=(D,B)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((D||Array.from(l.mount)).forEach(Z=>{Z&&(B?$t(n.validatingFields,Z,B):Rn(n.validatingFields,Z))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Yr(n.validatingFields)}))},v=(D,B=[],Z,ce,ue=!0,se=!0)=>{if(ce&&Z&&!e.disabled){if(o.action=!0,se&&Array.isArray(Ae(r,D))){const q=Z(Ae(r,D),ce.argA,ce.argB);ue&&$t(r,D,q)}if(se&&Array.isArray(Ae(n.errors,D))){const q=Z(Ae(n.errors,D),ce.argA,ce.argB);ue&&$t(n.errors,D,q),Sie(n.errors,D)}if((d.touchedFields||h.touchedFields)&&se&&Array.isArray(Ae(n.touchedFields,D))){const q=Z(Ae(n.touchedFields,D),ce.argA,ce.argB);ue&&$t(n.touchedFields,D,q)}(d.dirtyFields||h.dirtyFields)&&(n.dirtyFields=Hc(s,i)),f.state.next({name:D,isDirty:O(D,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else $t(i,D,B)},w=(D,B)=>{$t(n.errors,D,B),f.state.next({errors:n.errors})},E=D=>{n.errors=D,f.state.next({errors:n.errors,isValid:!1})},S=(D,B,Z,ce)=>{const ue=Ae(r,D);if(ue){const se=Ae(i,D,Sn(Z)?Ae(s,D):Z);Sn(se)||ce&&ce.defaultChecked||B?$t(i,D,B?se:T1(ue._f)):F(D,se),o.mount&&g()}},A=(D,B,Z,ce,ue)=>{let se=!1,q=!1;const re={name:D};if(!e.disabled){if(!Z||ce){(d.isDirty||h.isDirty)&&(q=n.isDirty,n.isDirty=re.isDirty=O(),se=q!==re.isDirty);const xe=ta(Ae(s,D),B);q=!!Ae(n.dirtyFields,D),xe?Rn(n.dirtyFields,D):$t(n.dirtyFields,D,!0),re.dirtyFields=n.dirtyFields,se=se||(d.dirtyFields||h.dirtyFields)&&q!==!xe}if(Z){const xe=Ae(n.touchedFields,D);xe||($t(n.touchedFields,D,Z),re.touchedFields=n.touchedFields,se=se||(d.touchedFields||h.touchedFields)&&xe!==Z)}se&&ue&&f.state.next(re)}return se?re:{}},P=(D,B,Z,ce)=>{const ue=Ae(n.errors,D),se=(d.isValid||h.isValid)&&Si(B)&&n.isValid!==B;if(e.delayError&&Z?(c=m(()=>w(D,Z)),c(e.delayError)):(clearTimeout(u),c=null,Z?$t(n.errors,D,Z):Rn(n.errors,D)),(Z?!ta(ue,Z):ue)||!Yr(ce)||se){const q={...ce,...se&&Si(B)?{isValid:B}:{},errors:n.errors,name:D};n={...n,...q},f.state.next(q)}},N=async D=>{x(D,!0);const B=await e.resolver(i,e.context,xie(D||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return x(D),B},T=async D=>{const{errors:B}=await N(D);if(D)for(const Z of D){const ce=Ae(B,Z);ce?$t(n.errors,Z,ce):Rn(n.errors,Z)}else n.errors=B;return B},k=async(D,B,Z={valid:!0})=>{for(const ce in D){const ue=D[ce];if(ue){const{_f:se,...q}=ue;if(se){const re=l.array.has(se.name),xe=ue._f&&bie(ue._f);xe&&d.validatingFields&&x([se.name],!0);const ze=await R1(ue,l.disabled,i,p,e.shouldUseNativeValidation&&!B,re);if(xe&&d.validatingFields&&x([se.name]),ze[se.name]&&(Z.valid=!1,B))break;!B&&(Ae(ze,se.name)?re?Tie(n.errors,ze,se.name):$t(n.errors,se.name,ze[se.name]):Rn(n.errors,se.name))}!Yr(q)&&await k(q,B,Z)}}return Z.valid},I=()=>{for(const D of l.unMount){const B=Ae(r,D);B&&(B._f.refs?B._f.refs.every(Z=>!fv(Z)):!fv(B._f.ref))&&pe(D)}l.unMount=new Set},O=(D,B)=>!e.disabled&&(D&&B&&$t(i,D,B),!ta(de(),s)),R=(D,B,Z)=>fie(D,l,{...o.mount?i:Sn(B)?s:ys(D)?{[D]:B}:B},Z,B),j=D=>IS(Ae(o.mount?i:s,D,e.shouldUnregister?Ae(s,D,[]):[])),F=(D,B,Z={})=>{const ce=Ae(r,D);let ue=B;if(ce){const se=ce._f;se&&(!se.disabled&&$t(i,D,uF(B,se)),ue=Tg(se.ref)&&Xr(B)?"":B,aF(se.ref)?[...se.ref.options].forEach(q=>q.selected=ue.includes(q.value)):se.refs?Gf(se.ref)?se.refs.forEach(q=>{(!q.defaultChecked||!q.disabled)&&(Array.isArray(ue)?q.checked=!!ue.find(re=>re===q.value):q.checked=ue===q.value||!!ue)}):se.refs.forEach(q=>q.checked=q.value===ue):jS(se.ref)?se.ref.value="":(se.ref.value=ue,se.ref.type||f.state.next({name:D,values:Qn(i)})))}(Z.shouldDirty||Z.shouldTouch)&&A(D,ue,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&G(D)},Y=(D,B,Z)=>{for(const ce in B){if(!B.hasOwnProperty(ce))return;const ue=B[ce],se=D+"."+ce,q=Ae(r,se);(l.array.has(D)||Ln(ue)||q&&!q._f)&&!yl(ue)?Y(se,ue,Z):F(se,ue,Z)}},L=(D,B,Z={})=>{const ce=Ae(r,D),ue=l.array.has(D),se=Qn(B);$t(i,D,se),ue?(f.array.next({name:D,values:Qn(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&Z.shouldDirty&&f.state.next({name:D,dirtyFields:Hc(s,i),isDirty:O(D,se)})):ce&&!ce._f&&!Xr(se)?Y(D,se,Z):F(D,se,Z),C1(D,l)&&f.state.next({...n,name:D}),f.state.next({name:o.mount?D:void 0,values:Qn(i)})},z=async D=>{o.mount=!0;const B=D.target;let Z=B.name,ce=!0;const ue=Ae(r,Z),se=xe=>{ce=Number.isNaN(xe)||yl(xe)&&isNaN(xe.getTime())||ta(xe,Ae(i,Z,xe))},q=N1(e.mode),re=N1(e.reValidateMode);if(ue){let xe,ze;const kt=B.type?T1(ue._f):oie(D),Vt=D.type===v1.BLUR||D.type===v1.FOCUS_OUT,Ns=!vie(ue._f)&&!e.resolver&&!Ae(n.errors,Z)&&!ue._f.deps||Eie(Vt,Ae(n.touchedFields,Z),n.isSubmitted,re,q),Cn=C1(Z,l,Vt);$t(i,Z,kt),Vt?(!B||!B.readOnly)&&(ue._f.onBlur&&ue._f.onBlur(D),c&&c(0)):ue._f.onChange&&ue._f.onChange(D);const Un=A(Z,kt,Vt),Yn=!Yr(Un)||Cn;if(!Vt&&f.state.next({name:Z,type:D.type,values:Qn(i)}),Ns)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?Vt&&g():Vt||g()),Yn&&f.state.next({name:Z,...Cn?{}:Un});if(!Vt&&Cn&&f.state.next({...n}),e.resolver){const{errors:en}=await N([Z]);if(se(kt),ce){const gi=A1(n.errors,r,Z),cs=A1(en,r,gi.name||Z);xe=cs.error,Z=cs.name,ze=Yr(en)}}else x([Z],!0),xe=(await R1(ue,l.disabled,i,p,e.shouldUseNativeValidation))[Z],x([Z]),se(kt),ce&&(xe?ze=!1:(d.isValid||h.isValid)&&(ze=await k(r,!0)));ce&&(ue._f.deps&&(!Array.isArray(ue._f.deps)||ue._f.deps.length>0)&&G(ue._f.deps),P(Z,ze,xe,Un))}},U=(D,B)=>{if(Ae(n.errors,B)&&D.focus)return D.focus(),1},G=async(D,B={})=>{let Z,ce;const ue=Eh(D);if(e.resolver){const se=await T(Sn(D)?D:ue);Z=Yr(se),ce=D?!ue.some(q=>Ae(se,q)):Z}else D?(ce=(await Promise.all(ue.map(async se=>{const q=Ae(r,se);return await k(q&&q._f?{[se]:q}:q)}))).every(Boolean),!(!ce&&!n.isValid)&&g()):ce=Z=await k(r);return f.state.next({...!ys(D)||(d.isValid||h.isValid)&&Z!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:Z}:{},errors:n.errors}),B.shouldFocus&&!ce&&Sh(r,U,D?ue:l.mount),ce},de=(D,B)=>{let Z={...o.mount?i:s};return B&&(Z=oF(B.dirtyFields?n.dirtyFields:n.touchedFields,Z)),Sn(D)?Z:ys(D)?Ae(Z,D):D.map(ce=>Ae(Z,ce))},ie=(D,B)=>({invalid:!!Ae((B||n).errors,D),isDirty:!!Ae((B||n).dirtyFields,D),error:Ae((B||n).errors,D),isValidating:!!Ae(n.validatingFields,D),isTouched:!!Ae((B||n).touchedFields,D)}),ye=D=>{D&&Eh(D).forEach(B=>Rn(n.errors,B)),f.state.next({errors:D?n.errors:{}})},ge=(D,B,Z)=>{const ce=(Ae(r,D,{_f:{}})._f||{}).ref,ue=Ae(n.errors,D)||{},{ref:se,message:q,type:re,...xe}=ue;$t(n.errors,D,{...xe,...B,ref:ce}),f.state.next({name:D,errors:n.errors,isValid:!1}),Z&&Z.shouldFocus&&ce&&ce.focus&&ce.focus()},Ce=(D,B)=>ni(D)?f.state.subscribe({next:Z=>"values"in Z&&D(R(void 0,B),Z)}):R(D,B,!0),Se=D=>f.state.subscribe({next:B=>{_ie(D.name,B.name,D.exact)&&wie(B,D.formState||d,Ht,D.reRenderRoot)&&D.callback({values:{...i},...n,...B,defaultValues:s})}}).unsubscribe,wt=D=>(o.mount=!0,h={...h,...D.formState},Se({...D,formState:h})),pe=(D,B={})=>{for(const Z of D?Eh(D):l.mount)l.mount.delete(Z),l.array.delete(Z),B.keepValue||(Rn(r,Z),Rn(i,Z)),!B.keepError&&Rn(n.errors,Z),!B.keepDirty&&Rn(n.dirtyFields,Z),!B.keepTouched&&Rn(n.touchedFields,Z),!B.keepIsValidating&&Rn(n.validatingFields,Z),!e.shouldUnregister&&!B.keepDefaultValue&&Rn(s,Z);f.state.next({values:Qn(i)}),f.state.next({...n,...B.keepDirty?{isDirty:O()}:{}}),!B.keepIsValid&&g()},$e=({disabled:D,name:B})=>{(Si(D)&&o.mount||D||l.disabled.has(B))&&(D?l.disabled.add(B):l.disabled.delete(B))},ut=(D,B={})=>{let Z=Ae(r,D);const ce=Si(B.disabled)||Si(e.disabled);return $t(r,D,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:D}},name:D,mount:!0,...B}}),l.mount.add(D),Z?$e({disabled:Si(B.disabled)?B.disabled:e.disabled,name:D}):S(D,!0,B.value),{...ce?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:Vd(B.min),max:Vd(B.max),minLength:Vd(B.minLength),maxLength:Vd(B.maxLength),pattern:Vd(B.pattern)}:{},name:D,onChange:z,onBlur:z,ref:ue=>{if(ue){ut(D,B),Z=Ae(r,D);const se=Sn(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,q=pie(se),re=Z._f.refs||[];if(q?re.find(xe=>xe===se):se===Z._f.ref)return;$t(r,D,{_f:{...Z._f,...q?{refs:[...re.filter(fv),se,...Array.isArray(Ae(s,D))?[{}]:[]],ref:{type:se.type,name:D}}:{ref:se}}}),S(D,!1,void 0,se)}else Z=Ae(r,D,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(lie(l.array,D)&&o.action)&&l.unMount.add(D)}}},Qe=()=>e.shouldFocusError&&Sh(r,U,l.mount),Xe=D=>{Si(D)&&(f.state.next({disabled:D}),Sh(r,(B,Z)=>{const ce=Ae(r,Z);ce&&(B.disabled=ce._f.disabled||D,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(ue=>{ue.disabled=ce._f.disabled||D}))},0,!1))},Je=(D,B)=>async Z=>{let ce;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ue=Qn(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:q}=await N();n.errors=se,ue=Qn(q)}else await k(r);if(l.disabled.size)for(const se of l.disabled)Rn(ue,se);if(Rn(n.errors,"root"),Yr(n.errors)){f.state.next({errors:{}});try{await D(ue,Z)}catch(se){ce=se}}else B&&await B({...n.errors},Z),Qe(),setTimeout(Qe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yr(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},dt=(D,B={})=>{Ae(r,D)&&(Sn(B.defaultValue)?L(D,Qn(Ae(s,D))):(L(D,B.defaultValue),$t(s,D,Qn(B.defaultValue))),B.keepTouched||Rn(n.touchedFields,D),B.keepDirty||(Rn(n.dirtyFields,D),n.isDirty=B.defaultValue?O(D,Qn(Ae(s,D))):O()),B.keepError||(Rn(n.errors,D),d.isValid&&g()),f.state.next({...n}))},Ot=(D,B={})=>{const Z=D?Qn(D):s,ce=Qn(Z),ue=Yr(D),se=ue?s:ce;if(B.keepDefaultValues||(s=Z),!B.keepValues){if(B.keepDirtyValues){const q=new Set([...l.mount,...Object.keys(Hc(s,i))]);for(const re of Array.from(q))Ae(n.dirtyFields,re)?$t(se,re,Ae(i,re)):L(re,Ae(se,re))}else{if(AS&&Sn(D))for(const q of l.mount){const re=Ae(r,q);if(re&&re._f){const xe=Array.isArray(re._f.refs)?re._f.refs[0]:re._f.ref;if(Tg(xe)){const ze=xe.closest("form");if(ze){ze.reset();break}}}}if(B.keepFieldsRef)for(const q of l.mount)L(q,Ae(se,q));else r={}}i=e.shouldUnregister?B.keepDefaultValues?Qn(s):{}:Qn(se),f.array.next({values:{...se}}),f.state.next({values:{...se}})}l={mount:B.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!B.keepIsValid||!!B.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:ue?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!ta(D,s)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ue?{}:B.keepDirtyValues?B.keepDefaultValues&&i?Hc(s,i):n.dirtyFields:B.keepDefaultValues&&D?Hc(s,D):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},_t=(D,B)=>Ot(ni(D)?D(i):D,B),Ge=(D,B={})=>{const Z=Ae(r,D),ce=Z&&Z._f;if(ce){const ue=ce.refs?ce.refs[0]:ce.ref;ue.focus&&(ue.focus(),B.shouldSelect&&ni(ue.select)&&ue.select())}},Ht=D=>{n={...n,...D}},ht={control:{register:ut,unregister:pe,getFieldState:ie,handleSubmit:Je,setError:ge,_subscribe:Se,_runSchema:N,_focusError:Qe,_getWatch:R,_getDirty:O,_setValid:g,_setFieldArray:v,_setDisabledField:$e,_setErrors:E,_getFieldArray:j,_reset:Ot,_resetDefaultValues:()=>ni(e.defaultValues)&&e.defaultValues().then(D=>{_t(D,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Xe,_subjects:f,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(D){o=D},get _defaultValues(){return s},get _names(){return l},set _names(D){l=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:wt,trigger:G,register:ut,handleSubmit:Je,watch:Ce,setValue:L,getValues:de,reset:_t,resetField:dt,clearErrors:ye,unregister:pe,setError:ge,setFocus:Ge,getFieldState:ie};return{...ht,formControl:ht}}function Nx(t={}){const e=Q.useRef(void 0),n=Q.useRef(void 0),[r,s]=Q.useState({isDirty:!1,isValidating:!1,isLoading:ni(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ni(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!ni(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=kie(t);e.current={...l,formState:r}}const i=e.current.control;return i._options=t,hie(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),Q.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Q.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),Q.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),Q.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),Q.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Q.useEffect(()=>{t.values&&!ta(t.values,n.current)?(i._reset(t.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),Q.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=die(r,i),e.current}const j1=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ae(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},hF=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?j1(r.ref,n,t):r.refs&&r.refs.forEach(s=>j1(s,n,t))}},Cie=(t,e)=>{e.shouldUseNativeValidation&&hF(t,e);const n={};for(const r in t){const s=Ae(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Aie(e.names||Object.keys(t),r)){const o=Object.assign({},Ae(n,r));$t(o,"root",i),$t(n,r,o)}else $t(n,r,i)}return n},Aie=(t,e)=>t.some(n=>n.startsWith(e+"."));var Iie=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=iF(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},kx=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&hF({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Cie(Iie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};function ee(t,e,n){function r(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(t),e(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:t});function o(l){var c;const u=n!=null&&n.Parent?new i:this;r(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class pu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class fF extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const pF={};function Yl(t){return pF}function Rie(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,s])=>e.indexOf(+r)===-1).map(([r,s])=>s)}function M_(t,e){return typeof e=="bigint"?e.toString():e}function OS(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function MS(t){return t==null}function DS(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function jie(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c!=null&&c[1]&&(s=Number.parseInt(c[1]))}const i=n>s?n:s,o=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return o%l/10**i}const P1=Symbol("evaluating");function Kt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==P1)return r===void 0&&(r=P1,r=n()),r},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function gc(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function yc(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function O1(t){return JSON.stringify(t)}const mF="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function kg(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Pie=OS(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function nf(t){if(kg(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(kg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function gF(t){return nf(t)?{...t}:Array.isArray(t)?[...t]:t}const Oie=new Set(["string","number","symbol"]);function $u(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ka(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Me(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Mie(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Die={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Lie(t,e){const n=t._zod.def,r=yc(t._zod.def,{get shape(){const s={};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(s[i]=n.shape[i])}return gc(this,"shape",s),s},checks:[]});return Ka(t,r)}function Fie(t,e){const n=t._zod.def,r=yc(t._zod.def,{get shape(){const s={...t._zod.def.shape};for(const i in e){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete s[i]}return gc(this,"shape",s),s},checks:[]});return Ka(t,r)}function Vie(t,e){if(!nf(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=yc(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return gc(this,"shape",i),i},checks:[]});return Ka(t,s)}function Bie(t,e){if(!nf(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return gc(this,"shape",r),r},checks:t._zod.def.checks};return Ka(t,n)}function $ie(t,e){const n=yc(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return gc(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Ka(t,n)}function zie(t,e,n){const r=yc(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=t?new t({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=t?new t({type:"optional",innerType:s[o]}):s[o];return gc(this,"shape",i),i},checks:[]});return Ka(e,r)}function Uie(t,e,n){const r=yc(e._zod.def,{get shape(){const s=e._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new t({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new t({type:"nonoptional",innerType:s[o]});return gc(this,"shape",i),i},checks:[]});return Ka(e,r)}function ru(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function yF(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function jp(t){return typeof t=="string"?t:t==null?void 0:t.message}function Zl(t,e,n){var s,i,o,l,c,u;const r={...t,path:t.path??[]};if(!t.message){const d=jp((o=(i=(s=t.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,t))??jp((l=e==null?void 0:e.error)==null?void 0:l.call(e,t))??jp((c=n.customError)==null?void 0:c.call(n,t))??jp((u=n.localeError)==null?void 0:u.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function LS(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function rf(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const xF=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,M_,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},bF=ee("$ZodError",xF),vF=ee("$ZodError",xF,{Parent:Error});function Hie(t,e=n=>n.message){const n={},r=[];for(const s of t.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}function Wie(t,e=n=>n.message){const n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>r({issues:o}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(e(i));else{let o=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(e(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return r(t),n}const FS=t=>(e,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new pu;if(o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>Zl(c,i,Yl())));throw mF(l,s==null?void 0:s.callee),l}return o.value},VS=t=>async(e,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((s==null?void 0:s.Err)??t)(o.issues.map(c=>Zl(c,i,Yl())));throw mF(l,s==null?void 0:s.callee),l}return o.value},Cx=t=>(e,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=e._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new pu;return i.issues.length?{success:!1,error:new(t??bF)(i.issues.map(o=>Zl(o,s,Yl())))}:{success:!0,data:i.value}},qie=Cx(vF),Ax=t=>async(e,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=e._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new t(i.issues.map(o=>Zl(o,s,Yl())))}:{success:!0,data:i.value}},Gie=Ax(vF),Kie=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return FS(t)(e,n,s)},Yie=t=>(e,n,r)=>FS(t)(e,n,r),Zie=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return VS(t)(e,n,s)},Qie=t=>async(e,n,r)=>VS(t)(e,n,r),Xie=t=>(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cx(t)(e,n,s)},Jie=t=>(e,n,r)=>Cx(t)(e,n,r),eoe=t=>async(e,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ax(t)(e,n,s)},toe=t=>async(e,n,r)=>Ax(t)(e,n,r),noe=/^[cC][^\s-]{8,}$/,roe=/^[0-9a-z]+$/,soe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ioe=/^[0-9a-vA-V]{20}$/,ooe=/^[A-Za-z0-9]{27}$/,aoe=/^[a-zA-Z0-9_-]{21}$/,loe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,coe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,M1=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,uoe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,doe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function hoe(){return new RegExp(doe,"u")}const foe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,poe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,moe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,goe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yoe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wF=/^[A-Za-z0-9_-]*$/,xoe=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,boe=/^\+(?:[0-9]){6,14}[0-9]$/,_F="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",voe=new RegExp(`^${_F}$`);function EF(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function woe(t){return new RegExp(`^${EF(t)}$`)}function _oe(t){const e=EF({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${_F}T(?:${r})$`)}const Eoe=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Soe=/^-?\d+$/,Toe=/^-?\d+(?:\.\d+)?/,Noe=/^(?:true|false)$/i,koe=/^[^A-Z]*$/,Coe=/^[^a-z]*$/,as=ee("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),SF={number:"number",bigint:"bigint",object:"date"},TF=ee("$ZodCheckLessThan",(t,e)=>{as.init(t,e);const n=SF[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<i&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),NF=ee("$ZodCheckGreaterThan",(t,e)=>{as.init(t,e);const n=SF[typeof e.value];t._zod.onattach.push(r=>{const s=r._zod.bag,i=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>i&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Aoe=ee("$ZodCheckMultipleOf",(t,e)=>{as.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):jie(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),Ioe=ee("$ZodCheckNumberFormat",(t,e)=>{var o;as.init(t,e),e.format=e.format||"float64";const n=(o=e.format)==null?void 0:o.includes("int"),r=n?"int":"number",[s,i]=Die[e.format];t._zod.onattach.push(l=>{const c=l._zod.bag;c.format=e.format,c.minimum=s,c.maximum=i,n&&(c.pattern=Soe)}),t._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}c<s&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),c>i&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:t})}}),Roe=ee("$ZodCheckMaxLength",(t,e)=>{var n;as.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!MS(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const s=r.value;if(s.length<=e.maximum)return;const o=LS(s);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),joe=ee("$ZodCheckMinLength",(t,e)=>{var n;as.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!MS(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const s=r.value;if(s.length>=e.minimum)return;const o=LS(s);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),Poe=ee("$ZodCheckLengthEquals",(t,e)=>{var n;as.init(t,e),(n=t._zod.def).when??(n.when=r=>{const s=r.value;return!MS(s)&&s.length!==void 0}),t._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=r=>{const s=r.value,i=s.length;if(i===e.length)return;const o=LS(s),l=i>e.length;r.issues.push({origin:o,...l?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Ix=ee("$ZodCheckStringFormat",(t,e)=>{var n,r;as.init(t,e),t._zod.onattach.push(s=>{const i=s._zod.bag;i.format=e.format,e.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),Ooe=ee("$ZodCheckRegex",(t,e)=>{Ix.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),Moe=ee("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=koe),Ix.init(t,e)}),Doe=ee("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=Coe),Ix.init(t,e)}),Loe=ee("$ZodCheckIncludes",(t,e)=>{as.init(t,e);const n=$u(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),Foe=ee("$ZodCheckStartsWith",(t,e)=>{as.init(t,e);const n=new RegExp(`^${$u(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),Voe=ee("$ZodCheckEndsWith",(t,e)=>{as.init(t,e);const n=new RegExp(`.*${$u(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),Boe=ee("$ZodCheckOverwrite",(t,e)=>{as.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class $oe{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
OG_IMAGE_SYSTEM.md:const baseUrl = `${supabaseUrl}/storage/v1/object/public/social-images/${slug}`;
OG_IMAGE_SYSTEM.md:  "url": "https://...supabase.co/storage/v1/object/public/social-images/slug/linkedin.png",
OG_IMAGE_SYSTEM.md:Edit `supabase/functions/og-render/index.ts`:
LOGIN_DASHBOARD_ROUTING_AUDIT.md:1. Get user session (supabase.auth.getSession())
LOGIN_DASHBOARD_ROUTING_AUDIT.md:**Location**: `supabase/functions/api-admin-check-role/index.ts`
LOGIN_DASHBOARD_ROUTING_AUDIT.md:- `supabase/functions/api-admin-check-role/index.ts` - Admin verification
LEADS_SYSTEM_COMPLETE.md:All functions added to `supabase/config.toml` with **JWT verification enabled**:
INTERNAL_ERRORS_FIXED.md:const { data } = await supabase
INTERNAL_ERRORS_FIXED.md:const { data } = await supabase
INTERNAL_ERRORS_FIXED.md:   - Documentation: https://supabase.com/docs/guides/auth/password-security
VERCEL_TO_LOVABLE_MIGRATION.md:// supabase/functions/api-version/index.ts
VERCEL_TO_LOVABLE_MIGRATION.md:supabase.functions.invoke('api-version')
VERCEL_TO_LOVABLE_MIGRATION.md:4. **Invocation**: supabase.functions.invoke() vs fetch('/api/')
DASHBOARD_VERIFICATION_COMPLETE.md:- Checks session via supabase.auth.getSession()
AI_IMPLEMENTATION.md:await supabase.from('ai_logs').insert([{
PWA_COMPLETE_AUDIT.md:        urlPattern: /^https:\/\/.*\.supabase\.co\/.*/i,
COMPLETE_MIGRATION_AUDIT.md:###  `/app/api/_lib/json.ts`  `supabase/functions/_shared/utils.ts`
COMPLETE_MIGRATION_AUDIT.md:###  `/app/api/_lib/supabase.ts`  Integrated into `utils.ts`
COMPLETE_MIGRATION_AUDIT.md:###  `/app/api/_lib/airwallex.ts`  `supabase/functions/_shared/aw.ts`
COMPLETE_MIGRATION_AUDIT.md:# - supabase.functions.invoke()
COMPLETE_MIGRATION_AUDIT.md: Check file:///dev-server/supabase/functions/api-version/index.ts
COMPLETE_MIGRATION_AUDIT.md: Check file:///dev-server/supabase/functions/api-auth-role/index.ts
COMPLETE_MIGRATION_AUDIT.md: Check file:///dev-server/supabase/functions/api-lessons-for-user/index.ts
COMPLETE_MIGRATION_AUDIT.md:**Configuration:** All functions properly configured in `supabase/config.toml` with correct JWT verification settings.
REDUNDANCY_MAP.md:  - If not, we need a mapping `supabase_uid` -> `firebase_uid`.
REDUNDANCY_MAP.md:  - **Plan**: Store `supabase_id` field in `/users/{uid}` doc for reference.
src/lib/versionGuard.ts:  'firebase.', // Changed from supabase.
src/pwa/screens/EnhancedHome.tsx:      import('@/db').then(({ dbClient: supabase }) => {
src/pwa/screens/EnhancedHome.tsx:        supabase.functions.invoke('pwa-me-summary').then(({ data }) => {
src/pwa/screens/Coaching.tsx:    import('@/db').then(({ dbClient: supabase }) => {
src/pwa/screens/Coaching.tsx:      supabase.functions
src/pwa/screens/AIChat.tsx:import { supabase } from '@/db';
src/pwa/screens/AIChat.tsx:      const { data, error } = await supabase.functions.invoke('pwa-ai-suggest', {
src/pwa/screens/Goals.tsx:import { supabase } from '@/db';
src/pwa/screens/Goals.tsx:      const { data, error } = await supabase.functions.invoke('pwa-me-goals', {
src/pwa/screens/Goals.tsx:      const { data, error } = await supabase.functions.invoke('pwa-me-goals', {
src/pwa/screens/Goals.tsx:      const { data, error } = await supabase.functions.invoke('pwa-me-goals', {
src/pwa/screens/Quiz.tsx:    import('@/db').then(({ dbClient: supabase }) => {
src/pwa/screens/Quiz.tsx:      supabase.functions
src/pwa/screens/Quiz.tsx:    const { dbClient: supabase } = await import('@/db');
src/pwa/screens/Quiz.tsx:    supabase.functions.invoke('pwa-quiz-answer', {
src/components/admin/PriceTesting.tsx:import { supabase } from '@/db';
src/components/admin/PriceTesting.tsx:      const { data } = await supabase.functions.invoke('api-admin-pricing-suggest', {
src/components/admin/PriceTesting.tsx:      const { data } = await supabase.functions.invoke('api-admin-pricing-apply-suggestion', {
src/components/admin/PriceTesting.tsx:      const { data } = await supabase.functions.invoke('api-admin-pricing-adopt-winner', {
src/components/admin/LeadsOverview.tsx:import { supabase } from '@/db';
src/components/admin/LeadsOverview.tsx:      const { data: { session } } = await supabase.auth.getSession();
src/components/admin/LeadsOverview.tsx:      const response = await supabase.functions.invoke('api-admin-leads-analytics', {
src/components/admin/VersionControl.tsx:import { supabase } from '@/db';
src/components/admin/VersionControl.tsx:    const { data } = await supabase
src/components/admin/VersionControl.tsx:      const { error } = await supabase.rpc('bump_version_now');
src/components/admin/SeoAlertBanner.tsx:import { supabase } from '@/db';
src/components/admin/SeoAlertBanner.tsx:        const { data, error } = await supabase.functions.invoke('api-admin-seo-alerts', {
src/components/admin/FxAuditGlobal.tsx:import { supabase } from '@/db';
src/components/admin/FxAuditGlobal.tsx:    const { data: result } = await supabase.functions.invoke('api-admin-fx-rates');
src/components/admin/FxAuditGlobal.tsx:    await supabase.functions.invoke('api-admin-fx-update', { 
src/components/admin/LeadsTable.tsx:import { supabase } from '@/db';
src/components/admin/LeadsTable.tsx:      const { data: { session } } = await supabase.auth.getSession();
src/components/admin/LeadsTable.tsx:      const response = await supabase.functions.invoke('api-admin-leads-list', {
src/components/admin/LeadsTable.tsx:    const channel = supabase
src/components/admin/LeadsTable.tsx:      supabase.removeChannel(channel);
src/components/admin/LeadsTable.tsx:      const { data: { session } } = await supabase.auth.getSession();
src/components/admin/LeadsTable.tsx:      const response = await supabase.functions.invoke('api-admin-leads-update', {
src/components/admin/LeadsTable.tsx:      const { data: { session } } = await supabase.auth.getSession();
src/components/admin/LeadsTable.tsx:      const response = await supabase.functions.invoke('api-admin-leads-export', {
src/components/admin/AdminBlogList.tsx:import { supabase } from '@/db';
src/components/admin/AdminBlogList.tsx:      const { data: session } = await supabase.auth.getSession();
src/components/admin/AdminBlogList.tsx:      const { data, error } = await supabase.functions.invoke('admin-blog-list', {
src/components/admin/AdminBlogList.tsx:      const { data: session } = await supabase.auth.getSession();
src/components/admin/AdminBlogList.tsx:      const { data, error } = await supabase.functions.invoke('admin-blog-delete', {
src/components/admin/AdminBlogList.tsx:          await supabase.functions.invoke('admin-cache-bust', {
src/components/admin/AdminBlogList.tsx:          await supabase.functions.invoke('admin-sitemap-rebuild', {
src/components/LessonPlayerLite.tsx:import { supabase } from '@/db';
src/components/LessonPlayerLite.tsx:        supabase.functions.invoke('api-lessons-event', {
src/components/LessonPlayerLite.tsx:    await supabase.functions.invoke('api-lessons-progress', {
src/components/LessonPlayerLite.tsx:    await supabase.functions.invoke('api-lessons-event', {
src/components/LessonPlayerLite.tsx:    await supabase.functions.invoke('api-lessons-progress', {
src/components/AvatarUploader.tsx:import { supabase } from '@/db';
src/components/AvatarUploader.tsx:      const { error: uploadError } = await supabase.storage
src/components/AvatarUploader.tsx:      const { data: { publicUrl } } = supabase.storage
src/components/AvatarUploader.tsx:      const { data: { session } } = await supabase.auth.getSession();
src/components/AvatarUploader.tsx:      const { error: updateError } = await supabase.functions.invoke('pwa-me-update', {
src/components/ContentSuggestions.tsx:import { supabase } from '@/db';
src/components/ContentSuggestions.tsx:      const { data, error } = await supabase.functions.invoke('ai-suggest-topics');
src/components/HeaderUser.tsx:    const authProvider = import.meta.env.VITE_AUTH_PROVIDER || 'supabase';
src/components/HeaderUser.tsx:      const supabaseAuth = authClient as unknown as SupabaseAuthClient;
src/components/HeaderUser.tsx:      if (typeof supabaseAuth.onAuthStateChange === 'function') {
src/components/HeaderUser.tsx:        const { data: { subscription } } = supabaseAuth.onAuthStateChange((_event: string, newSession: SupabaseSession | null) => {
src/components/HeaderUser.tsx:        supabaseAuth.getSession().then(({ data: { session } }: { data: { session: SupabaseSession | null }}) => {
src/components/HeaderUser.tsx:  const authProvider = import.meta.env.VITE_AUTH_PROVIDER || 'supabase';
src/components/Startup.tsx:import { dbClient as supabase } from '@/db';
src/components/Startup.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/components/Startup.tsx:          const { data, error } = await supabase.functions.invoke('api-admin-check-role', {
src/components/dashboard/PlanBadge.tsx:import { supabase } from '@/db';
src/components/dashboard/PlanBadge.tsx:        const { data: result } = await supabase.functions.invoke('dashboard-user-summary');
src/components/dashboard/UpcomingSessions.tsx:import { supabase } from '@/db';
src/components/dashboard/UpcomingSessions.tsx:        const { data: result } = await supabase.functions.invoke('dashboard-user-summary');
src/components/dashboard/NpsQuick.tsx:import { supabase } from '@/db';
src/components/dashboard/NpsQuick.tsx:      await supabase.functions.invoke('api-telemetry-log', {
src/components/CoverComposer.tsx:import { supabase } from '@/db';
src/components/CoverComposer.tsx:      const { data, error } = await supabase.functions.invoke('og-render-all', {
src/hooks/useUserAnalytics.ts:import { supabase } from '@/db';
src/hooks/useUserAnalytics.ts:        const { data: { session } } = await supabase.auth.getSession();
src/hooks/useUserAnalytics.ts:        const { data: analyticsData, error } = await supabase.functions.invoke(
src/hooks/useAdminAuth.ts:import { supabase } from '@/db';
src/hooks/useAdminAuth.ts:      const { data: sessionData } = await supabase.auth.getSession();
src/hooks/useAdminAuth.ts:      const { data, error } = await supabase.functions.invoke('api-admin-check-role', {
src/pages/AdminCoaching.tsx:import { supabase } from '@/db';
src/pages/AdminCoaching.tsx:      const token = (await supabase.auth.getSession()).data.session?.access_token;
src/pages/AdminCoaching.tsx:      const token = (await supabase.auth.getSession()).data.session?.access_token;
src/pages/admin/Integrations.tsx:import { supabase } from '@/db';
src/pages/admin/Integrations.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/System.tsx:import { supabase } from '@/db';
src/pages/admin/System.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/System.tsx:      const { error } = await supabase.functions.invoke('api-admin-bump-version', {
src/pages/admin/System.tsx:      const { error } = await supabase
src/pages/admin/CRM.tsx:import { supabase } from '@/db';
src/pages/admin/CRM.tsx:      const { data: leadsData } = await supabase
src/pages/admin/CrossPostStudio.tsx:import { supabase } from '@/db';
src/pages/admin/CrossPostStudio.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/CrossPostStudio.tsx:      const { data, error } = await supabase.functions.invoke(
src/pages/admin/CrossPostStudio.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/CrossPostStudio.tsx:      const { data, error } = await supabase.functions.invoke(
src/pages/admin/CrossPostStudio.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/CrossPostStudio.tsx:      const { data, error } = await supabase.functions.invoke(
src/pages/admin/CrossPostStudio.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/CrossPostStudio.tsx:      const { error } = await supabase.functions.invoke(
src/pages/admin/ReferralsManager.tsx:import { supabase } from '@/db';
src/pages/admin/ReferralsManager.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/ReferralsManager.tsx:      const { data, error } = await supabase.functions.invoke(
src/pages/admin/ReferralsManager.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/ReferralsManager.tsx:      const { error } = await supabase.functions.invoke(
src/pages/admin/ReferralsManager.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/ReferralsManager.tsx:      const { data, error } = await supabase.functions.invoke(
src/pages/admin/Content.tsx:import { supabase } from '@/db';
src/pages/admin/Content.tsx:      const { data, error } = await supabase.rpc('content_leaderboard_30d');
src/pages/admin/Analytics.tsx:import { supabase } from '@/db';
src/pages/admin/Analytics.tsx:      const { data: sessionData } = await supabase.auth.getSession();
src/pages/admin/Analytics.tsx:      const { data, error } = await supabase.functions.invoke('dashboard-admin-metrics', {
src/pages/AdminCalendar.tsx:import { supabase } from '@/db';
src/pages/AdminCalendar.tsx:      const { data, error } = await supabase.functions.invoke('api-admin-calendar-feed');
src/pages/Contact.tsx:import { supabase } from '@/db';
src/pages/Contact.tsx:    const { data, error } = await supabase.functions.invoke('api-express-price', {
src/pages/Contact.tsx:      const { data, error } = await supabase.functions.invoke('api-contact-submit', {
src/pages/AdminCoupons.tsx:import { supabase } from '@/db';
src/pages/AdminCoupons.tsx:      const { data, error } = await supabase.functions.invoke('api-admin-coupons-list');
src/pages/AdminCoupons.tsx:      const { error } = await supabase.functions.invoke('api-admin-coupons-save', {
src/pages/AdminCoupons.tsx:      const { error } = await supabase.functions.invoke('api-admin-coupons-save', {
src/pages/MobileMe.tsx:    const authProvider = import.meta.env.VITE_AUTH_PROVIDER || 'supabase';
src/pages/MobileMe.tsx:      const supabaseAuth = authClient as any;
src/pages/MobileMe.tsx:      if (typeof supabaseAuth.onAuthStateChange === 'function') {
src/pages/MobileMe.tsx:        const { data: { subscription } } = supabaseAuth.onAuthStateChange((_: any, newSession: any) => {
src/pages/MobileMe.tsx:        supabaseAuth.getSession().then(({ data: { session } }: any) => {
src/pages/AdminBookings.tsx:import { supabase } from '@/db';
src/pages/AdminBookings.tsx:      const { data, error } = await supabase.functions.invoke('api-admin-bookings');
src/pages/EventDetail.tsx:import { supabase } from '@/db';
src/pages/EventDetail.tsx:        const { data: eventData } = await supabase.functions.invoke('api-events-get', {
src/pages/EventDetail.tsx:          const { data: ticketsData } = await supabase.functions.invoke('api-events-tickets', {
src/pages/EventDetail.tsx:        const { data: result } = await supabase.functions.invoke('api-events-price-preview', {
src/pages/EventDetail.tsx:                        const { data: resp } = await supabase.functions.invoke('api-events-coupon-preview', {
src/pages/AdminCalEventTypes.tsx:import { supabase } from '@/db';
src/pages/AdminCalEventTypes.tsx:      const { data, error } = await supabase
src/pages/AdminCalEventTypes.tsx:      const { error } = await supabase
src/pages/AdminCalEventTypes.tsx:      const { error } = await supabase
src/pages/AdminAI.tsx:import { supabase } from '@/db';
src/pages/AdminAI.tsx:    const { data: h } = await supabase.functions.invoke('api-ai-status');
src/pages/AdminSEO.tsx:import { supabase } from '@/db';
src/pages/AdminSEO.tsx:      const { error } = await supabase.functions.invoke('seo-watch');
src/pages/AdminSEO.tsx:      const { error } = await supabase.functions.invoke('api-admin-seo-resolve', {
src/pages/DashboardRedirect.tsx:import { supabase } from '@/db';
src/pages/DashboardRedirect.tsx:        const { data: { session } } = await supabase.auth.getSession();
src/pages/DashboardRedirect.tsx:        const { data: adminData, error: adminError } = await supabase.functions.invoke('api-admin-check-role', {
src/pages/Quiz.tsx:import { supabase } from '@/db';
src/pages/Quiz.tsx:      const { data: responseData, error } = await supabase.functions.invoke('capture-quiz-lead', {
INTERNAL_ERRORS_AUDIT.md:**File:** `supabase/functions/api-testimonials-list/index.ts`
INTERNAL_ERRORS_AUDIT.md:**Documentation:** https://supabase.com/docs/guides/auth/password-security#password-strength-and-leaked-password-protection
INTERNAL_ERRORS_AUDIT.md:const { data } = await supabase.from('table').select().eq('id', id).single();
INTERNAL_ERRORS_AUDIT.md:const { data } = await supabase.from('table').select().eq('id', id).maybeSingle();
SETUP.md:Create `supabase/functions/capture-lead/index.ts`:
SETUP.md:import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';
SETUP.md:    const supabase = createClient(
SETUP.md:    const { error: dbError } = await supabase.from('leads').insert({
SETUP.md:Update `supabase/config.toml`:
SETUP.md:const response = await supabase.functions.invoke('capture-lead', {
BOOKING_IMPLEMENTATION_COMPLETE.md:  `${supabaseUrl}/functions/v1/booking-create`,
BOOKING_IMPLEMENTATION_COMPLETE.md:  `${supabaseUrl}/functions/v1/booking-status?token=${token}`
BOOKING_IMPLEMENTATION_COMPLETE.md:  `${supabaseUrl}/functions/v1/booking-schedule`,
BOOKING_IMPLEMENTATION_COMPLETE.md:- URL: `https://your-project.supabase.co/functions/v1/payment-webhook`
BOOKING_IMPLEMENTATION_COMPLETE.md:curl -X POST https://your-project.supabase.co/functions/v1/booking-create \
BOOKING_IMPLEMENTATION_COMPLETE.md:curl -X POST https://your-project.supabase.co/functions/v1/booking-create \
BOOKING_IMPLEMENTATION_COMPLETE.md:curl "https://your-project.supabase.co/functions/v1/booking-status?token=<TOKEN>"
BOOKING_IMPLEMENTATION_COMPLETE.md:curl -X POST https://your-project.supabase.co/functions/v1/booking-schedule \
FIRESTORE_SCHEMA.yaml:      supabase_id: string # legacy ID
DASHBOARD_ROUTING_GUIDE.md:**File:** `supabase/functions/api-admin-check-role/index.ts`
DASHBOARD_ROUTING_GUIDE.md:const { data: adminRow } = await supabase
IMPLEMENTATION.md:Create `supabase/functions/capture-quiz-lead/index.ts`:
IMPLEMENTATION.md:import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';
IMPLEMENTATION.md:    const supabase = createClient(
IMPLEMENTATION.md:    await supabase.from('leads').insert({
IMPLEMENTATION.md:Update `supabase/config.toml`:
IMPLEMENTATION.md:    const supabase = createClient(
IMPLEMENTATION.md:    const { error } = await supabase.functions.invoke('capture-quiz-lead', {
EDGE_FUNCTIONS_WIRING_COMPLETE.md:  const { data, error } = await supabase.from('table').select();
EDGE_FUNCTIONS_WIRING_COMPLETE.md:- Admin Auth Helper: `supabase/functions/_shared/admin-auth.ts`
EDGE_FUNCTIONS_WIRING_COMPLETE.md:- HTTP Helpers: `supabase/functions/_shared/http.ts`
USER_ACCESS_VERIFICATION.md:- Location: `supabase/functions/api-admin-check-role/index.ts`
API_CLIENT_AUDIT_COMPLETE.md:###  Components with Direct `supabase.functions.invoke()` (Intentional)
API_CLIENT_AUDIT_COMPLETE.md:Components that use `supabase.functions.invoke()` directly are acceptable when:
ADMIN_PWA_GUIDE.md:import { createClient } from '@supabase/supabase-js';
ADMIN_PWA_GUIDE.md:const { data: role } = await supabase
EDGE_FUNCTIONS_COMPLETE_AUDIT.md:import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.75.0';
EDGE_FUNCTIONS_COMPLETE_AUDIT.md:- Admin Auth Helper: `supabase/functions/_shared/admin-auth.ts`
EDGE_FUNCTIONS_COMPLETE_AUDIT.md:- HTTP Helpers: `supabase/functions/_shared/http.ts`
EDGE_FUNCTIONS_COMPLETE_AUDIT.md:- Event Pricing Helper: `supabase/functions/_shared/event-pricing.ts`
EDGE_FUNCTIONS_COMPLETE_AUDIT.md:- Event Coupons Helper: `supabase/functions/_shared/event-coupons.ts`
PRICING_FUNNEL_SYSTEM.md:- Verified in `supabase/config.toml` with `verify_jwt = true`
DATABASE_API_AUDIT.md:const { data } = await supabase
DATABASE_API_AUDIT.md:const { data, error } = await supabase
DATABASE_API_AUDIT.md:const { data, error } = await supabase.functions.invoke('api-cal-book-url', {
DATABASE_API_AUDIT.md:const { data, error } = await supabase.functions.invoke('api-coaching-checkout', {
DATABASE_API_AUDIT.md:const { data: result, error } = await supabase.functions.invoke('api-endpoint', {
DATABASE_API_AUDIT.md:const { data, error } = await supabase
ANALYTICS_FLOW.md:- **Backend**: `supabase/functions/metrics-collect/index.ts`
ANALYTICS_FLOW.md:- **Backend**: `supabase/functions/api-telemetry-log/index.ts`
ANALYTICS_FLOW.md:### **metrics-collect** (`supabase/functions/metrics-collect/index.ts`)
ANALYTICS_FLOW.md:### **api-telemetry-log** (`supabase/functions/api-telemetry-log/index.ts`)
ANALYTICS_FLOW.md:### **dashboard-admin-metrics** (`supabase/functions/dashboard-admin-metrics/index.ts`)
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:All legacy Vercel API routes from `/api/**/*.ts` have been fully migrated to Supabase Edge Functions in `supabase/functions/`. The `/api` folder has been removed as it's no longer needed.
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:- Admin routes (`/api/admin/*`  `supabase/functions/api-admin-*`)
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:- Coaching routes (`/api/coaching/*`  `supabase/functions/api-coaching-*`)
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:- Event routes (`/api/events/*`  `supabase/functions/api-events-*`)
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:- Billing routes (`/api/billing/*`  `supabase/functions/api-billing-*`)
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:- Calendar routes (`/api/calendar/*`  `supabase/functions/api-calendar-*`)
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:All utility functions from `/api/_util/` have been migrated to `supabase/functions/_shared/`:
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:| `api/_util/discount.ts` | `supabase/functions/_shared/discounts.ts` | Generic discount calculations |
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:| `api/_util/i18n.ts` | `supabase/functions/_shared/i18n.ts` | Internationalization helpers |
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:| `api/_util/schema.ts` | `supabase/functions/_shared/validators.ts` | JSON validation utilities |
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:| `api/_util/cache.ts` | `supabase/functions/_shared/cache.ts` | In-memory caching |
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:| `api/_util/strictFetch.ts` | `supabase/functions/_shared/http.ts` | HTTP utilities with timeout |
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:| N/A | `supabase/functions/_shared/event-coupons.ts` | Event coupon logic |
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:| N/A | `supabase/functions/_shared/event-pricing.ts` | Event pricing with FX |
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:| N/A | `supabase/functions/_shared/admin-auth.ts` | Admin authentication |
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.75.0';
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:    const supabase = createClient(
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:    const { data, error } = await supabase
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:### JWT Verification (`supabase/config.toml`)
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:supabase start
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:1. Check `supabase/functions/_shared/` for utility documentation
VERCEL_TO_EDGE_MIGRATION_COMPLETE.md:3. Refer to [Supabase Edge Functions docs](https://supabase.com/docs/guides/functions)
FIRESTORE_SCHEMA.md:  - `migrationSource` (string): 'supabase'
SOCIAL_MEDIA_SYSTEM.md:    url:='https://your-project.supabase.co/functions/v1/social-worker',
SOCIAL_MEDIA_SYSTEM.md:    url:='https://your-project.supabase.co/functions/v1/social-metrics-collect',
AUTH_IMPROVEMENTS_COMPLETE.md:  const { error: profileError } = await supabase
AUTH_IMPROVEMENTS_COMPLETE.md:const { data: existingProfile } = await supabase
AUTH_IMPROVEMENTS_COMPLETE.md:  const { error: profileError } = await supabase
AUTH_IMPROVEMENTS_COMPLETE.md:- [Supabase Auth Webhooks](https://supabase.com/docs/guides/auth/auth-webhooks)
BOOKING_AUDIT_SECURITY.md:1. **`supabase/functions/booking-create/index.ts`**
BOOKING_AUDIT_SECURITY.md:2. **`supabase/functions/booking-schedule/index.ts`**
BOOKING_AUDIT_SECURITY.md:3. **`supabase/functions/payment-webhook/index.ts`**
AUTH_FIX_COMPLETE.md:- Auth: Uses `supabase.functions.invoke('api-admin-check-role')`
AUTH_FIX_COMPLETE.md:3. **supabase/functions/send-password-reset/index.ts** - Already returning proper 200 responses
.env.example:VITE_AUTH_PROVIDER="supabase"
.env.example:VITE_DB_PROVIDER="supabase"
.env.example:VITE_SUPABASE_URL="your-supabase-url"
.env.example:VITE_SUPABASE_KEY="your-supabase-key"
DASHBOARD_SYSTEM_IMPLEMENTATION.md:supabase.auth.getSession()
DASHBOARD_SYSTEM_IMPLEMENTATION.md:supabase.from('zg_profiles')
DASHBOARD_SYSTEM_IMPLEMENTATION.md:supabase.from('user_roles')
DASHBOARD_SYSTEM_IMPLEMENTATION.md:const { data } = await supabase.functions.invoke('dash